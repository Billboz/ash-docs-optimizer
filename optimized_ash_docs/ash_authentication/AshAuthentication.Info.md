# AshAuthentication.Info â€” ash_authentication v4.0.4

Project: ash_authentication v4.0.4

## Table of Contents

- [ __ View Source ](external_link) AshAuthentication.Info (ash_authentication v4.0.4)
- __ Summary
  - Types
  - Functions
- __ Types
- dsl_or_resource()
- __ Functions
- authentication_add_ons(dsl_or_extended)
- authentication_domain(dsl_or_extended)
- authentication_domain!(dsl_or_extended)
- authentication_get_by_subject_action_name(dsl_or_extended)
- authentication_get_by_subject_action_name!(dsl_or_extended)
- authentication_options(dsl_or_extended)
- authentication_select_for_senders(dsl_or_extended)
- authentication_select_for_senders!(dsl_or_extended)
- authentication_strategies(dsl_or_extended)
- authentication_subject_name(dsl_or_extended)
- authentication_subject_name!(dsl_or_extended)
- authentication_tokens_enabled?(dsl_or_extended)
- authentication_tokens_options(dsl_or_extended)
- authentication_tokens_require_token_presence_for_authentication?(dsl_or_extended)
- authentication_tokens_signing_algorithm(dsl_or_extended)
- authentication_tokens_signing_algorithm!(dsl_or_extended)
- authentication_tokens_signing_secret(dsl_or_extended)
- authentication_tokens_signing_secret!(dsl_or_extended)
- authentication_tokens_store_all_tokens?(dsl_or_extended)
- authentication_tokens_token_lifetime(dsl_or_extended)
- authentication_tokens_token_lifetime!(dsl_or_extended)
- authentication_tokens_token_resource(dsl_or_extended)
- authentication_tokens_token_resource!(dsl_or_extended)
- domain(dsl_or_resource)
- domain!(dsl_or_resource)
- find_strategy(queryset, context \\\ %{}, options)
- strategy(dsl_or_resource, name)
- strategy!(dsl_or_resource, name)
- strategy_for_action(dsl_or_resource, action_name)
- strategy_for_action!(dsl_or_resource, action_name)

__

Search documentation of ash_authentication __ __

__ Settings

#  [ __ View Source ](external_link) AshAuthentication.Info (ash_authentication v4.0.4)

Generated configuration functions based on a resource's DSL configuration.

#  __ Summary

##  Types

dsl_or_resource()

##  Functions

authentication_add_ons(dsl_or_extended)

authentication.add_ons DSL entities

authentication_domain(dsl_or_extended)

The name of the Ash domain to use to access this resource when doing anything authentication related.

authentication_domain!(dsl_or_extended)

The name of the Ash domain to use to access this resource when doing anything authentication related.

authentication_get_by_subject_action_name(dsl_or_extended)

The name of the read action used to retrieve records. If the action doesn't exist, one will be generated for you.

authentication_get_by_subject_action_name!(dsl_or_extended)

The name of the read action used to retrieve records. If the action doesn't exist, one will be generated for you.

authentication_options(dsl_or_extended)

authentication DSL options

authentication_select_for_senders(dsl_or_extended)

A list of fields that we will ensure are selected whenever a sender will be invoked. Defaults to `[:email]` if there is an `:email` attribute on the resource, and `[]` otherwise.

authentication_select_for_senders!(dsl_or_extended)

A list of fields that we will ensure are selected whenever a sender will be invoked. Defaults to `[:email]` if there is an `:email` attribute on the resource, and `[]` otherwise.

authentication_strategies(dsl_or_extended)

authentication.strategies DSL entities

authentication_subject_name(dsl_or_extended)

The subject name is used anywhere that a short version of your resource name is needed. Must be unique system-wide and will be inferred from the resource name by default (ie `MyApp.Accounts.User` -> `user`).

authentication_subject_name!(dsl_or_extended)

The subject name is used anywhere that a short version of your resource name is needed. Must be unique system-wide and will be inferred from the resource name by default (ie `MyApp.Accounts.User` -> `user`).

authentication_tokens_enabled?(dsl_or_extended)

Should JWTs be generated by this resource?

authentication_tokens_options(dsl_or_extended)

authentication.tokens DSL options

authentication_tokens_require_token_presence_for_authentication?(dsl_or_extended)

Require a locally-stored token for authentication. See the [tokens guide](external_link) for more.

authentication_tokens_signing_algorithm(dsl_or_extended)

The algorithm to use for token signing. Available signing algorithms are; EdDSA, Ed448ph, Ed448, Ed25519ph, Ed25519, PS512, PS384, PS256, ES512, ES384, ES256, RS512, RS384, RS256, HS512, HS384 and HS256.

authentication_tokens_signing_algorithm!(dsl_or_extended)

The algorithm to use for token signing. Available signing algorithms are; EdDSA, Ed448ph, Ed448, Ed25519ph, Ed25519, PS512, PS384, PS256, ES512, ES384, ES256, RS512, RS384, RS256, HS512, HS384 and HS256.

authentication_tokens_signing_secret(dsl_or_extended)

The secret used to sign tokens. Takes either a module which implements the [`AshAuthentication.Secret`](external_link) behaviour, a 2 arity anonymous function or a string.

authentication_tokens_signing_secret!(dsl_or_extended)

The secret used to sign tokens. Takes either a module which implements the [`AshAuthentication.Secret`](external_link) behaviour, a 2 arity anonymous function or a string.

authentication_tokens_store_all_tokens?(dsl_or_extended)

Store all tokens in the `token_resource`. See the [tokens guide](external_link) for more.

authentication_tokens_token_lifetime(dsl_or_extended)

How long a token should be valid. See [the tokens guide](external_link) for more.

authentication_tokens_token_lifetime!(dsl_or_extended)

How long a token should be valid. See [the tokens guide](external_link) for more.

authentication_tokens_token_resource(dsl_or_extended)

The resource used to store token information, such as in-flight confirmations, revocations, and if `store_all_tokens?` is enabled, authentication tokens themselves.

authentication_tokens_token_resource!(dsl_or_extended)

The resource used to store token information, such as in-flight confirmations, revocations, and if `store_all_tokens?` is enabled, authentication tokens themselves.

domain(dsl_or_resource)

Retrieve the domain to use for authentication.

domain!(dsl_or_resource)

Raising version of `domain/1`

find_strategy(queryset, context \\\ %{}, options)

Find the underlying strategy that required a change/preparation to be used.

strategy(dsl_or_resource, name)

Retrieve a named strategy from a resource.

strategy!(dsl_or_resource, name)

Retrieve a named strategy from a resource (raising version).

strategy_for_action(dsl_or_resource, action_name)

Given an action name, retrieve the strategy it is for from the DSL configuration.

strategy_for_action!(dsl_or_resource, action_name)

Given an action name, retrieve the strategy it is for from the DSL configuration.

#  __ Types

__ Link to this type

# dsl_or_resource()

[ __ View Source ](external_link)
    
    
    @type dsl_or_resource() :: [module](external_link)() | [map](external_link)()

#  __ Functions

__ Link to this function

# authentication_add_ons(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_add_ons(dsl_or_extended :: [module](external_link)() | [map](external_link)()) :: [[struct](external_link)()]

authentication.add_ons DSL entities

__ Link to this function

# authentication_domain(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_domain(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [module](external_link)()} | :error

The name of the Ash domain to use to access this resource when doing anything authentication related.

__ Link to this function

# authentication_domain!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_domain!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [module](external_link)() | [no_return](external_link)()

The name of the Ash domain to use to access this resource when doing anything authentication related.

__ Link to this function

# authentication_get_by_subject_action_name(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_get_by_subject_action_name(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [atom](external_link)()} | :error

The name of the read action used to retrieve records. If the action doesn't exist, one will be generated for you.

__ Link to this function

# authentication_get_by_subject_action_name!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_get_by_subject_action_name!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [atom](external_link)() | [no_return](external_link)()

The name of the read action used to retrieve records. If the action doesn't exist, one will be generated for you.

__ Link to this function

# authentication_options(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_options(dsl_or_extended :: [module](external_link)() | [map](external_link)()) :: %{
      required([atom](external_link)()) => [any](external_link)()
    }

authentication DSL options

Returns a map containing the and any configured or default values.

__ Link to this function

# authentication_select_for_senders(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_select_for_senders(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [[atom](external_link)()]} | :error

A list of fields that we will ensure are selected whenever a sender will be invoked. Defaults to `[:email]` if there is an `:email` attribute on the resource, and `[]` otherwise.

__ Link to this function

# authentication_select_for_senders!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_select_for_senders!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [[atom](external_link)()] | [no_return](external_link)()

A list of fields that we will ensure are selected whenever a sender will be invoked. Defaults to `[:email]` if there is an `:email` attribute on the resource, and `[]` otherwise.

__ Link to this function

# authentication_strategies(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_strategies(dsl_or_extended :: [module](external_link)() | [map](external_link)()) :: [[struct](external_link)()]

authentication.strategies DSL entities

__ Link to this function

# authentication_subject_name(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_subject_name(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [atom](external_link)()} | :error

The subject name is used anywhere that a short version of your resource name is needed. Must be unique system-wide and will be inferred from the resource name by default (ie `MyApp.Accounts.User` -> `user`).

__ Link to this function

# authentication_subject_name!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_subject_name!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [atom](external_link)() | [no_return](external_link)()

The subject name is used anywhere that a short version of your resource name is needed. Must be unique system-wide and will be inferred from the resource name by default (ie `MyApp.Accounts.User` -> `user`).

__ Link to this function

# authentication_tokens_enabled?(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_enabled?(dsl_or_extended :: [module](external_link)() | [map](external_link)()) :: [boolean](external_link)()

Should JWTs be generated by this resource?

__ Link to this function

# authentication_tokens_options(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_options(dsl_or_extended :: [module](external_link)() | [map](external_link)()) :: %{
      required([atom](external_link)()) => [any](external_link)()
    }

authentication.tokens DSL options

Returns a map containing the and any configured or default values.

__ Link to this function

# authentication_tokens_require_token_presence_for_authentication?(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_require_token_presence_for_authentication?(
      dsl_or_extended :: [module](external_link)() | [map](external_link)()
    ) :: [boolean](external_link)()

Require a locally-stored token for authentication. See the [tokens guide](external_link) for more.

__ Link to this function

# authentication_tokens_signing_algorithm(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_signing_algorithm(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [String.t](external_link)()} | :error

The algorithm to use for token signing. Available signing algorithms are; EdDSA, Ed448ph, Ed448, Ed25519ph, Ed25519, PS512, PS384, PS256, ES512, ES384, ES256, RS512, RS384, RS256, HS512, HS384 and HS256.

__ Link to this function

# authentication_tokens_signing_algorithm!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_signing_algorithm!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [String.t](external_link)() | [no_return](external_link)()

The algorithm to use for token signing. Available signing algorithms are; EdDSA, Ed448ph, Ed448, Ed25519ph, Ed25519, PS512, PS384, PS256, ES512, ES384, ES256, RS512, RS384, RS256, HS512, HS384 and HS256.

__ Link to this function

# authentication_tokens_signing_secret(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_signing_secret(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, ([module](external_link)() | [tuple](external_link)() | ([any](external_link)(), [any](external_link)() -> [any](external_link)())) | [String.t](external_link)()} | :error

The secret used to sign tokens. Takes either a module which implements the [`AshAuthentication.Secret`](external_link) behaviour, a 2 arity anonymous function or a string.

__ Link to this function

# authentication_tokens_signing_secret!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_signing_secret!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      (([module](external_link)() | [tuple](external_link)() | ([any](external_link)(), [any](external_link)() -> [any](external_link)())) | [String.t](external_link)()) | [no_return](external_link)()

The secret used to sign tokens. Takes either a module which implements the [`AshAuthentication.Secret`](external_link) behaviour, a 2 arity anonymous function or a string.

__ Link to this function

# authentication_tokens_store_all_tokens?(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_store_all_tokens?(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      [boolean](external_link)()

Store all tokens in the `token_resource`. See the [tokens guide](external_link) for more.

__ Link to this function

# authentication_tokens_token_lifetime(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_token_lifetime(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [pos_integer](external_link)() | {[pos_integer](external_link)(), :seconds | :minutes | :hours | :days}}
      | :error

How long a token should be valid. See [the tokens guide](external_link) for more.

__ Link to this function

# authentication_tokens_token_lifetime!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_token_lifetime!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      ([pos_integer](external_link)() | {[pos_integer](external_link)(), :seconds | :minutes | :hours | :days})
      | [no_return](external_link)()

How long a token should be valid. See [the tokens guide](external_link) for more.

__ Link to this function

# authentication_tokens_token_resource(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_token_resource(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      {:ok, [module](external_link)() | false} | :error

The resource used to store token information, such as in-flight confirmations, revocations, and if `store_all_tokens?` is enabled, authentication tokens themselves.

__ Link to this function

# authentication_tokens_token_resource!(dsl_or_extended)

[ __ View Source ](external_link)
    
    
    @spec authentication_tokens_token_resource!(dsl_or_extended :: [module](external_link)() | [map](external_link)()) ::
      ([module](external_link)() | false) | [no_return](external_link)()

The resource used to store token information, such as in-flight confirmations, revocations, and if `store_all_tokens?` is enabled, authentication tokens themselves.

__ Link to this function

# domain(dsl_or_resource)

[ __ View Source ](external_link)
    
    
    @spec domain(dsl_or_resource()) :: {:ok, [Ash.Domain.t](3.4.1/Ash.Domain.html#t:t/0)()} | :error

Retrieve the domain to use for authentication.

If the `authentication.domain` DSL option is set, it will be used, otherwise it will default to that configured on the resource.

__ Link to this function

# domain!(dsl_or_resource)

[ __ View Source ](external_link)

Raising version of `domain/1`

__ Link to this function

# find_strategy(queryset, context \\\ %{}, options)

[ __ View Source ](external_link)
    
    
    @spec find_strategy([Ash.Query.t](3.4.1/Ash.Query.html#t:t/0)() | [Ash.Changeset.t](3.4.1/Ash.Changeset.html#t:t/0)(), context, options) ::
      {:ok, [AshAuthentication.Strategy.t](external_link)()} | :error
    when context: [map](external_link)(), options: [Keyword.t](external_link)()

Find the underlying strategy that required a change/preparation to be used.

This is because the `strategy_name` can be passed on the change options, eg:
    
    
    change {AshAuthentication.Strategy.Password.HashPasswordChange, strategy_name: :banana_custard}

Or via the action context, eg:
    
    
    prepare set_context(%{strategy_name: :banana_custard})
    prepare AshAuthentication.Strategy.Password.SignInPreparation

Or via the passed-in context on calling the action.

__ Link to this function

# strategy(dsl_or_resource, name)

[ __ View Source ](external_link)
    
    
    @spec strategy(dsl_or_resource() | [module](external_link)(), [atom](external_link)()) :: {:ok, strategy} | :error
    when strategy: [struct](external_link)()

Retrieve a named strategy from a resource.

__ Link to this function

# strategy!(dsl_or_resource, name)

[ __ View Source ](external_link)
    
    
    @spec strategy!(dsl_or_resource() | [module](external_link)(), [atom](external_link)()) :: strategy | [no_return](external_link)()
    when strategy: [struct](external_link)()

Retrieve a named strategy from a resource (raising version).

__ Link to this function

# strategy_for_action(dsl_or_resource, action_name)

[ __ View Source ](external_link)
    
    
    @spec strategy_for_action(dsl_or_resource(), [atom](external_link)()) ::
      {:ok, [AshAuthentication.Strategy.t](external_link)()} | :error

Given an action name, retrieve the strategy it is for from the DSL configuration.

__ Link to this function

# strategy_for_action!(dsl_or_resource, action_name)

[ __ View Source ](external_link)
    
    
    @spec strategy_for_action!(dsl_or_resource(), [atom](external_link)()) ::
      [AshAuthentication.Strategy.t](external_link)() | [no_return](external_link)()

Given an action name, retrieve the strategy it is for from the DSL configuration.
