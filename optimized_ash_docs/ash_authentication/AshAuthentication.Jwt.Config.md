# AshAuthentication.Jwt.Config â€” ash_authentication v4.0.4

Project: ash_authentication v4.0.4

## Table of Contents

- [ __ View Source ](external_link) AshAuthentication.Jwt.Config (ash_authentication v4.0.4)
- __ Summary
  - Functions
- __ Functions
- default_claims(resource, opts \\\ [])
- generate_audience(vsn)
- generate_issuer(vsn)
- token_signer(resource, opts \\\ [])
- validate_audience(claim, _, _, vsn)
- validate_issuer(claim, _, _)
- validate_jti(jti, arg2, resource, opts \\\ [])

__

Search documentation of ash_authentication __ __

__ Settings

#  [ __ View Source ](external_link) AshAuthentication.Jwt.Config (ash_authentication v4.0.4)

Implementation details JWT generation and validation.

Provides functions to generate token configuration at runtime, based on the resource being signed for and for verifying claims and checking for token revocation.

#  __ Summary

##  Functions

default_claims(resource, opts \\\ [])

Generate the default claims for a specified resource.

generate_audience(vsn)

The generator function used to generate the "aud" claim.

generate_issuer(vsn)

The generator function used to generate the "iss" claim.

token_signer(resource, opts \\\ [])

The signer used to sign the token on a per-resource basis.

validate_audience(claim, _, _, vsn)

The validation function used to validate the "aud" claim.

validate_issuer(claim, _, _)

The validation function used to validate the "iss" claim.

validate_jti(jti, arg2, resource, opts \\\ [])

The validation function used to the validate the "jti" claim.

#  __ Functions

__ Link to this function

# default_claims(resource, opts \\\ [])

[ __ View Source ](external_link)
    
    
    @spec default_claims(
      [Ash.Resource.t](3.4.1/Ash.Resource.html#t:t/0)(),
      [keyword](external_link)()
    ) :: [Joken.token_config](external_link)()

Generate the default claims for a specified resource.

__ Link to this function

# generate_audience(vsn)

[ __ View Source ](external_link)
    
    
    @spec generate_audience([Version.t](external_link)()) :: [String.t](external_link)()

The generator function used to generate the "aud" claim.

It generates an Elixir-style `~>` version requirement against the current major and minor version numbers of AshAuthentication.

__ Link to this function

# generate_issuer(vsn)

[ __ View Source ](external_link)
    
    
    @spec generate_issuer([Version.t](external_link)()) :: [String.t](external_link)()

The generator function used to generate the "iss" claim.

__ Link to this function

# token_signer(resource, opts \\\ [])

[ __ View Source ](external_link)
    
    
    @spec token_signer(
      [Ash.Resource.t](3.4.1/Ash.Resource.html#t:t/0)(),
      [keyword](external_link)()
    ) :: [Joken.Signer.t](external_link)()

The signer used to sign the token on a per-resource basis.

__ Link to this function

# validate_audience(claim, _, _, vsn)

[ __ View Source ](external_link)
    
    
    @spec validate_audience([String.t](external_link)(), [any](external_link)(), [any](external_link)(), [Version.t](external_link)()) :: [boolean](external_link)()

The validation function used to validate the "aud" claim.

Uses [`Version.match?/2`](external_link) to validate the provided claim against the current version. The use of `~>` means that tokens generated by versions of AshAuthentication with the the same major version and at least the same minor version should be compatible.

__ Link to this function

# validate_issuer(claim, _, _)

[ __ View Source ](external_link)
    
    
    @spec validate_issuer([String.t](external_link)(), [any](external_link)(), [any](external_link)()) :: [boolean](external_link)()

The validation function used to validate the "iss" claim.

It simply verifies that the claim starts with `"AshAuthentication"`

__ Link to this function

# validate_jti(jti, arg2, resource, opts \\\ [])

[ __ View Source ](external_link)
    
    
    @spec validate_jti([String.t](external_link)(), [any](external_link)(), [Ash.Resource.t](3.4.1/Ash.Resource.html#t:t/0)() | [any](external_link)(), [Keyword.t](external_link)()) ::
      [boolean](external_link)()

The validation function used to the validate the "jti" claim.

This is done by checking that the token is valid with the token revocation resource. Requires that the subject's resource configuration be passed as the validation context. This is automatically done by calling `Jwt.verify/2`.
