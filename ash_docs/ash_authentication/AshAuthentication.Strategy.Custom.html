<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="ash_authentication v4.0.4">


    <title>AshAuthentication.Strategy.Custom â€” ash_authentication v4.0.4</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-BF9EDA45.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>
<script>
  if (location.hostname === "hexdocs.pm") {
    var script = document.createElement("script");
    script.src = "https://plausible.io/js/script.js";
    script.setAttribute("defer", "defer")
    script.setAttribute("data-domain", "ashhexdocs")
    document.head.appendChild(script);
  }
</script>

  </head>
  <body data-type="modules" class="page-behaviour">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="readme.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ash_authentication" />
        </a>

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
ash_authentication
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.0.4
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
GUIDES
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ash_authentication</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">AshAuthentication.Strategy.Custom</span> <small>behaviour</small>
    <small class="app-vsn" translate="no">(ash_authentication v4.0.4)</small>

  </h1>


    <section id="moduledoc">
<p>Define your own custom authentication strategy.</p><p>See <a href="custom-strategy.html">the Custom Strategies guide</a>
for more information.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:entity/0" data-no-tooltip translate="no">entity()</a>

      </div>

        <div class="summary-synopsis"><p>A Strategy DSL Entity.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:strategy/0" data-no-tooltip translate="no">strategy()</a>

      </div>

        <div class="summary-synopsis"><p>This is the DSL target for your entity and the struct for which you will
implement the <a href="AshAuthentication.Strategy.html"><code class="inline">AshAuthentication.Strategy</code></a> protocol.</p></div>

    </div>

</div>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:transform/2" data-no-tooltip translate="no">transform(strategy, t)</a>

      </div>

        <div class="summary-synopsis"><p>If your strategy needs to modify either the entity or the parent resource then
you can implement this callback.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:verify/2" data-no-tooltip translate="no">verify(strategy, t)</a>

      </div>

        <div class="summary-synopsis"><p>If your strategy needs to verify either the entity or the parent resource then
you can implement this callback.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#set_defaults/2" data-no-tooltip translate="no">set_defaults(dsl, defaults)</a>

      </div>

        <div class="summary-synopsis"><p>Sets default values for a DSL schema based on a set of defaults.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:entity/0">

  <div class="detail-header">
    <a href="#t:entity/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">entity()</h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L16" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> entity() :: <a href="https://hexdocs.pm/spark/2.2.23/Spark.Dsl.Entity.html#t:t/0">Spark.Dsl.Entity.t</a>()</pre>

      </div>

<p>A Strategy DSL Entity.</p><p>See <a href="https://hexdocs.pm/spark/2.2.23/Spark.Dsl.Entity.html"><code class="inline">Spark.Dsl.Entity</code></a> for more information.</p>
  </section>
</section>
<section class="detail" id="t:strategy/0">

  <div class="detail-header">
    <a href="#t:strategy/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">strategy()</h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L25" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> strategy() :: %{
  :__struct__ =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">module</a>(),
  :strategy_module =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">module</a>(),
  :resource =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">module</a>(),
  optional(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()) =&gt; <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()
}</pre>

      </div>

<p>This is the DSL target for your entity and the struct for which you will
implement the <a href="AshAuthentication.Strategy.html"><code class="inline">AshAuthentication.Strategy</code></a> protocol.</p><p>The only required field is <code class="inline">strategy_module</code> which is used to keep track of
which custom strategy created which strategy.</p>
  </section>
</section>

    </div>
  </section>

  <section id="callbacks" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#callbacks">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Callbacks</span>
    </h1>
    <div class="callbacks-list">
<section class="detail" id="c:transform/2">

  <div class="detail-header">
    <a href="#c:transform/2" class="detail-link" data-no-tooltip title="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this callback</span>
    </a>
    <h1 class="signature" translate="no">transform(strategy, t)</h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L48" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> transform(<a href="#t:strategy/0">strategy</a>(), <a href="https://hexdocs.pm/spark/2.2.23/Spark.Dsl.html#t:t/0">Spark.Dsl.t</a>()) ::
  {:ok, <a href="#t:strategy/0">strategy</a>()} | {:ok, <a href="https://hexdocs.pm/spark/2.2.23/Spark.Dsl.html#t:t/0">Spark.Dsl.t</a>()} | {:error, <a href="https://hexdocs.pm/elixir/Exception.html#t:t/0">Exception.t</a>()}</pre>

      </div>

<p>If your strategy needs to modify either the entity or the parent resource then
you can implement this callback.</p><p>This callback can return one of three results:</p><ul><li><code class="inline">{:ok, Entity.t}</code> - an updated DSL entity - useful if you're just changing
the entity itself and not changing the wider DSL state of the resource.
If this is the response then the transformer will take care of updating
the entity in the DSL state.</li><li><code class="inline">{:ok, Dsl.t}</code> - an updated DSL state for the entire resource.</li><li><code class="inline">{:error, Exception.t}</code> - a compilation-stopping problem was found. Any
exception can be returned, but we strongly advise you to return a
<a href="https://hexdocs.pm/spark/2.2.23/Spark.Error.DslError.html"><code class="inline">Spark.Error.DslError</code></a>.</li></ul>
  </section>
</section>
<section class="detail" id="c:verify/2">

  <div class="detail-header">
    <a href="#c:verify/2" class="detail-link" data-no-tooltip title="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this callback</span>
    </a>
    <h1 class="signature" translate="no">verify(strategy, t)</h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L65" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@callback</span> verify(<a href="#t:strategy/0">strategy</a>(), <a href="https://hexdocs.pm/spark/2.2.23/Spark.Dsl.html#t:t/0">Spark.Dsl.t</a>()) :: :ok | {:error, <a href="https://hexdocs.pm/elixir/Exception.html#t:t/0">Exception.t</a>()}</pre>

      </div>

<p>If your strategy needs to verify either the entity or the parent resource then
you can implement this callback.</p><p>This is called post-compilation in the <code class="inline">@after_verify</code> hook - see <a href="https://hexdocs.pm/elixir/Module.html"><code class="inline">Module</code></a> for
more information.</p><p>This callback can return one of the following results:</p><ul><li><code class="inline">:ok</code> - everything is A-Okay.</li><li><code class="inline">{:error, Exception.t}</code> - a compilation-stopping problem was found. Any
exception can be returned, but we strongly advise you to return a
<a href="https://hexdocs.pm/spark/2.2.23/Spark.Error.DslError.html"><code class="inline">Spark.Error.DslError</code></a>.</li></ul>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="set_defaults/2">

  <div class="detail-header">
    <a href="#set_defaults/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">set_defaults(dsl, defaults)</h1>

      <a href="https://github.com/team-alembic/ash_authentication/blob/main/lib/ash_authentication/strategies/custom.ex#L121" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Sets default values for a DSL schema based on a set of defaults.</p><p>If a given default is in the schema, it can be overriden, so we just set the default
and mark it not required.</p><p>If not, then we add it to <code class="inline">auto_set_fields</code>, and the user cannot override it.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ash_authentication/4.0.4" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ash_authentication/4.0.4">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ash_authentication.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
