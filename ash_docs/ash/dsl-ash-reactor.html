<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="ash v3.4.8">


    <title>DSL: Ash.Reactor — ash v3.4.8</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-370365CE.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>
<style>
  .livebook-badge-container + pre {
    display: none;
  }
</style>
<script>
  if (location.hostname === "hexdocs.pm") {
    var script = document.createElement("script");
    script.src = "https://plausible.io/js/script.js";
    script.setAttribute("defer", "defer")
    script.setAttribute("data-domain", "ashhexdocs")
    document.head.appendChild(script);
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad: true})</script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://github.com/ash-project/ash" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ash" />
        </a>

      <div>
        <a href="https://github.com/ash-project/ash" class="sidebar-projectName" translate="no">
ash
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.4.8
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
GUIDES
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ash</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/documentation/dsls/DSL:-Ash.Reactor.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>DSL: Ash.Reactor</span>
  </h1>

<p><a href="Ash.Reactor.html"><code class="inline">Ash.Reactor</code></a> is a <a href="https://hex.pm/packages/reactor"><code class="inline">Reactor</code></a> extension
which provides steps for working with Ash resources and actions.</p><p>See the <a href="https://hexdocs.pm/ash/reactor.html">Ash Reactor Guide</a> for more
information.</p><h2 id="ash" class="section-heading">
  <a href="#ash" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">ash</span>
</h2>
<p>Ash-related configuration for the <a href="Ash.Reactor.html"><code class="inline">Ash.Reactor</code></a> extension</p><h3 id="options" class="section-heading">
  <a href="#options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#ash-default_domain" id="ash-default_domain"><code class="inline">default_domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">A domain to use by default when calling actions</td></tr></tbody></table><h2 id="reactor-action" class="section-heading">
  <a href="#reactor-action" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.action</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">action</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call a generic action on a resource.</p><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls" class="section-heading">
  <a href="#nested-dsls" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-action-actor">actor</a></li><li><a href="#reactor-action-inputs">inputs</a></li><li><a href="#reactor-action-tenant">tenant</a></li><li><a href="#reactor-action-wait_for">wait_for</a></li></ul><h3 id="arguments" class="section-heading">
  <a href="#arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-name" id="reactor-action-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-resource" id="reactor-action-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-action" id="reactor-action-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-1" class="section-heading">
  <a href="#options-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-action-domain" id="reactor-action-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-async?" id="reactor-action-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-authorize?" id="reactor-action-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-description" id="reactor-action-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-undo_action" id="reactor-action-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-action-undo" id="reactor-action-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-action-actor" class="section-heading">
  <a href="#reactor-action-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.action.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-1" class="section-heading">
  <a href="#arguments-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-actor-source" id="reactor-action-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-2" class="section-heading">
  <a href="#options-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-action-actor-transform" id="reactor-action-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection" class="section-heading">
  <a href="#introspection" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-action-inputs" class="section-heading">
  <a href="#reactor-action-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.action.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples" class="section-heading">
  <a href="#examples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="4932219175-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="4932219175-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="4932219175-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="4932219175-3">(</span><span class="ss">:title</span><span class="p" data-group-id="4932219175-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="4932219175-4">(</span><span class="ss">:body</span><span class="p" data-group-id="4932219175-4">)</span><span class="w">
</span><span class="p" data-group-id="4932219175-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="5610638690-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="5610638690-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="5610638690-2">)</span><span class="p" data-group-id="5610638690-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-2" class="section-heading">
  <a href="#arguments-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-inputs-template" id="reactor-action-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-3" class="section-heading">
  <a href="#options-3" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-action-inputs-transform" id="reactor-action-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-1" class="section-heading">
  <a href="#introspection-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-action-tenant" class="section-heading">
  <a href="#reactor-action-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.action.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-3" class="section-heading">
  <a href="#arguments-3" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-tenant-source" id="reactor-action-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-4" class="section-heading">
  <a href="#options-4" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-action-tenant-transform" id="reactor-action-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-2" class="section-heading">
  <a href="#introspection-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-action-wait_for" class="section-heading">
  <a href="#reactor-action-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.action.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-1" class="section-heading">
  <a href="#examples-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-4" class="section-heading">
  <a href="#arguments-4" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-action-wait_for-names" id="reactor-action-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-3" class="section-heading">
  <a href="#introspection-3" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-4" class="section-heading">
  <a href="#introspection-4" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Action.html"><code class="inline">Ash.Reactor.Dsl.Action</code></a></p><h2 id="reactor-ash_step" class="section-heading">
  <a href="#reactor-ash_step" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.ash_step</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">ash_step</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">impl</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Specifies a Ash.Reactor step.</p><p>This is basically a wrapper around <code class="inline">Reactor.step</code>, in order to handle
any returned notifications from the run step/function.</p><p>See the <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Step.html"><code class="inline">Reactor.Step</code></a> behaviour for more information.</p><h3 id="nested-dsls-1" class="section-heading">
  <a href="#nested-dsls-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-ash_step-argument">argument</a></li><li><a href="#reactor-ash_step-wait_for">wait_for</a></li></ul><h3 id="examples-2" class="section-heading">
  <a href="#examples-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">ash_step</span><span class="w"> </span><span class="ss">:create_post</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.CreatePostStep</span><span class="w"> </span><span class="k" data-group-id="5224659623-1">do</span><span class="w">
  </span><span class="n">argument</span><span class="w"> </span><span class="ss">:title</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="5224659623-2">(</span><span class="ss">:title</span><span class="p" data-group-id="5224659623-2">)</span><span class="w">
</span><span class="k" data-group-id="5224659623-1">end</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">ash_step</span><span class="w"> </span><span class="ss">:create_post</span><span class="w"> </span><span class="k" data-group-id="3281836924-1">do</span><span class="w">
  </span><span class="n">argument</span><span class="w"> </span><span class="ss">:title</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="3281836924-2">(</span><span class="ss">:title</span><span class="p" data-group-id="3281836924-2">)</span><span class="w">

  </span><span class="n">run</span><span class="w"> </span><span class="k" data-group-id="3281836924-3">fn</span><span class="w"> </span><span class="p" data-group-id="3281836924-4">%{</span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">title</span><span class="p" data-group-id="3281836924-4">}</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="nc">MyApp.Post</span><span class="o">.</span><span class="n">create</span><span class="p" data-group-id="3281836924-5">(</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="ss">return_notifications?</span><span class="p">:</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="3281836924-5">)</span><span class="w">
  </span><span class="k" data-group-id="3281836924-3">end</span><span class="w">
</span><span class="k" data-group-id="3281836924-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-5" class="section-heading">
  <a href="#arguments-5" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-ash_step-name" id="reactor-ash_step-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step. Used when choosing the return value of the Reactor and for arguments into other steps.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-impl" id="reactor-ash_step-impl"><code class="inline">impl</code></a></td><td style="text-align: left;"><code class="inline">module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">A module that implements the <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Step.html"><code class="inline">Reactor.Step</code></a> behaviour that provides the implementation.</td></tr></tbody></table><h3 id="options-5" class="section-heading">
  <a href="#options-5" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-ash_step-run" id="reactor-ash_step-run"><code class="inline">run</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | mfa | (any, any -&gt; any) | mfa</code></td><td style="text-align: left;"></td><td style="text-align: left;">Provide an anonymous function which implements the <code class="inline">run/3</code> callback. Cannot be provided at the same time as the <code class="inline">impl</code> argument.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-undo" id="reactor-ash_step-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | mfa | (any, any -&gt; any) | mfa | (any, any, any -&gt; any) | mfa</code></td><td style="text-align: left;"></td><td style="text-align: left;">Provide an anonymous function which implements the <code class="inline">undo/4</code> callback. Cannot be provided at the same time as the <code class="inline">impl</code> argument.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-compensate" id="reactor-ash_step-compensate"><code class="inline">compensate</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | mfa | (any, any -&gt; any) | mfa | (any, any, any -&gt; any) | mfa</code></td><td style="text-align: left;"></td><td style="text-align: left;">Provide an anonymous function which implements the <code class="inline">undo/4</code> callback. Cannot be provided at the same time as the <code class="inline">impl</code> argument.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-max_retries" id="reactor-ash_step-max_retries"><code class="inline">max_retries</code></a></td><td style="text-align: left;"><code class="inline">:infinity | non_neg_integer</code></td><td style="text-align: left;"><code class="inline">:infinity</code></td><td style="text-align: left;">The maximum number of times that the step can be retried before failing. Only used when the result of the <code class="inline">compensate/4</code> callback is <code class="inline">:retry</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-async?" id="reactor-ash_step-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-ash_step-transform" id="reactor-ash_step-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the entire argument map before it is passed to the step.</td></tr></tbody></table><h2 id="reactor-ash_step-argument" class="section-heading">
  <a href="#reactor-ash_step-argument" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.ash_step.argument</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Specifies an argument to a Reactor step.</p><p>Each argument is a value which is either the result of another step, or an input value.</p><p>Individual arguments can be transformed with an arbitrary function before
being passed to any steps.</p><h3 id="examples-3" class="section-heading">
  <a href="#examples-3" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:name</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="8499674775-1">(</span><span class="ss">:name</span><span class="p" data-group-id="8499674775-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:year</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="9162305699-1">(</span><span class="ss">:date</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9162305699-2">[</span><span class="ss">:year</span><span class="p" data-group-id="9162305699-2">]</span><span class="p" data-group-id="9162305699-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="1551322133-1">(</span><span class="ss">:create_user</span><span class="p" data-group-id="1551322133-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user_id</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="6446828133-1">(</span><span class="ss">:create_user</span><span class="p" data-group-id="6446828133-1">)</span><span class="w"> </span><span class="k" data-group-id="6446828133-2">do</span><span class="w">
  </span><span class="n">transform</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="o">.</span><span class="n">id</span><span class="w">
</span><span class="k" data-group-id="6446828133-2">end</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user_id</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="7243108329-1">(</span><span class="ss">:create_user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7243108329-2">[</span><span class="ss">:id</span><span class="p" data-group-id="7243108329-2">]</span><span class="p" data-group-id="7243108329-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:three</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="9768116322-1">(</span><span class="mi">3</span><span class="p" data-group-id="9768116322-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-6" class="section-heading">
  <a href="#arguments-6" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-ash_step-argument-name" id="reactor-ash_step-argument-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the argument which will be used as the key in the <code class="inline">arguments</code> map passed to the implementation.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-ash_step-argument-source" id="reactor-ash_step-argument-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the argument. See <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.Argument.html"><code class="inline">Reactor.Dsl.Argument</code></a> for more information.</td></tr></tbody></table><h3 id="options-6" class="section-heading">
  <a href="#options-6" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-ash_step-argument-transform" id="reactor-ash_step-argument-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the argument before it is passed to the step.</td></tr></tbody></table><h3 id="introspection-5" class="section-heading">
  <a href="#introspection-5" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.Argument.html"><code class="inline">Reactor.Dsl.Argument</code></a></p><h2 id="reactor-ash_step-wait_for" class="section-heading">
  <a href="#reactor-ash_step-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.ash_step.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-4" class="section-heading">
  <a href="#examples-4" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-7" class="section-heading">
  <a href="#arguments-7" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-ash_step-wait_for-names" id="reactor-ash_step-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-6" class="section-heading">
  <a href="#introspection-6" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-7" class="section-heading">
  <a href="#introspection-7" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.AshStep.html"><code class="inline">Ash.Reactor.Dsl.AshStep</code></a></p><h2 id="reactor-bulk_create" class="section-heading">
  <a href="#reactor-bulk_create" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_create</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">bulk_create</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step which will call a create action on a resource with a collection of inputs.</p><blockquote><h3 id="check-the-docs" class="warning section-heading">
  <a href="#check-the-docs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Check the docs!</span>
</h3>
<p>Make sure to thoroughly read and understand the documentation in <a href="Ash.html#bulk_create/4"><code class="inline">Ash.bulk_create/4</code></a> before using. Read each option and note the default values. By default, bulk creates don't return records or errors, and don't emit notifications.</p></blockquote><p>Caveats/differences from <a href="Ash.html#bulk_create/4"><code class="inline">Ash.bulk_create/4</code></a>:</p><ol><li><code class="inline">max_concurrency</code> specifies the number of tasks that Ash will start to process batches, and has no effect on Reactor concurrency targets.  It's could be possible to create a very large number of processes if a number of steps are running bulk actions with a high degree of concurrency.</li><li>Setting <code class="inline">notify?</code> to <code class="inline">true</code> will cause both <code class="inline">notify?</code> and <code class="inline">return_notifications?</code> to be set to true in the underlying call to <a href="Ash.html#bulk_create/4"><code class="inline">Ash.bulk_create/4</code></a>. Notifications will then be managed by the <a href="Ash.Reactor.Notifications.html"><code class="inline">Ash.Reactor.Notifications</code></a> Reactor middleware.</li><li>If you specify an undo action it must be a generic action which takes the bulk result as it's only argument.</li></ol><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls-2" class="section-heading">
  <a href="#nested-dsls-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-bulk_create-actor">actor</a></li><li><a href="#reactor-bulk_create-load">load</a></li><li><a href="#reactor-bulk_create-tenant">tenant</a></li><li><a href="#reactor-bulk_create-wait_for">wait_for</a></li></ul><h3 id="examples-5" class="section-heading">
  <a href="#examples-5" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">bulk_create</span><span class="w"> </span><span class="ss">:create_posts</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:create</span><span class="w"> </span><span class="k" data-group-id="6318711457-1">do</span><span class="w">
  </span><span class="n">initial</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6318711457-2">(</span><span class="ss">:titles</span><span class="p" data-group-id="6318711457-2">)</span><span class="w">
  </span><span class="n">actor</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="6318711457-3">(</span><span class="ss">:get_user</span><span class="p" data-group-id="6318711457-3">)</span><span class="w">
  </span><span class="n">tenant</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="6318711457-4">(</span><span class="ss">:get_organisation</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6318711457-5">[</span><span class="ss">:id</span><span class="p" data-group-id="6318711457-5">]</span><span class="p" data-group-id="6318711457-4">)</span><span class="w">
</span><span class="k" data-group-id="6318711457-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-8" class="section-heading">
  <a href="#arguments-8" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-name" id="reactor-bulk_create-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-resource" id="reactor-bulk_create-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-action" id="reactor-bulk_create-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-7" class="section-heading">
  <a href="#options-7" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-initial" id="reactor-bulk_create-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">A collection of inputs to pass to the create action. Must implement the <a href="https://hexdocs.pm/elixir/Enumerable.html"><code class="inline">Enumerable</code></a> protocol.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-assume_casted?" id="reactor-bulk_create-assume_casted?"><code class="inline">assume_casted?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-authorize_changeset_with" id="reactor-bulk_create-authorize_changeset_with"><code class="inline">authorize_changeset_with</code></a></td><td style="text-align: left;"><code class="inline">:filter | :error</code></td><td style="text-align: left;"><code class="inline">:filter</code></td><td style="text-align: left;">If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-authorize_query_with" id="reactor-bulk_create-authorize_query_with"><code class="inline">authorize_query_with</code></a></td><td style="text-align: left;"><code class="inline">:filter | :error</code></td><td style="text-align: left;"><code class="inline">:filter</code></td><td style="text-align: left;">If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-batch_size" id="reactor-bulk_create-batch_size"><code class="inline">batch_size</code></a></td><td style="text-align: left;"><code class="inline">nil | pos_integer</code></td><td style="text-align: left;"></td><td style="text-align: left;">The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code> or <code class="inline">max_page_size</code> of the action, or 100.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-max_concurrency" id="reactor-bulk_create-max_concurrency"><code class="inline">max_concurrency</code></a></td><td style="text-align: left;"><code class="inline">non_neg_integer</code></td><td style="text-align: left;"><code class="inline">0</code></td><td style="text-align: left;">If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-notification_metadata" id="reactor-bulk_create-notification_metadata"><code class="inline">notification_metadata</code></a></td><td style="text-align: left;"><code class="inline">map | Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"><code class="inline">%{}</code></td><td style="text-align: left;">Metadata to be merged into the metadata field for all notifications sent from this operation.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-notify?" id="reactor-bulk_create-notify?"><code class="inline">notify?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to generate any notifications. This may be intensive for large bulk actions.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-read_action" id="reactor-bulk_create-read_action"><code class="inline">read_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The action to use when building the read query.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-return_errors?" id="reactor-bulk_create-return_errors?"><code class="inline">return_errors?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to return all of the errors that occur. Defaults to false to account for large inserts.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-return_records?" id="reactor-bulk_create-return_records?"><code class="inline">return_records?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-return_stream?" id="reactor-bulk_create-return_stream?"><code class="inline">return_stream?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">If set to <code class="inline">true</code>, instead of an <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-rollback_on_error?" id="reactor-bulk_create-rollback_on_error?"><code class="inline">rollback_on_error?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">Whether or not to rollback the transaction on error, if the resource is in a transaction.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-select" id="reactor-bulk_create-select"><code class="inline">select</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not <code class="inline">true</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-skip_unknown_inputs" id="reactor-bulk_create-skip_unknown_inputs"><code class="inline">skip_unknown_inputs</code></a></td><td style="text-align: left;"><code class="inline">atom | String.t | list(atom | String.t)</code></td><td style="text-align: left;"></td><td style="text-align: left;">A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-sorted?" id="reactor-bulk_create-sorted?"><code class="inline">sorted?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to sort results by their input position, in cases where <code class="inline">return_records?</code> is set to <code class="inline">true</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-stop_on_error?" id="reactor-bulk_create-stop_on_error?"><code class="inline">stop_on_error?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">If <code class="inline">true</code>, the first encountered error will stop the action and be returned. Otherwise, errors will be skipped.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-success_state" id="reactor-bulk_create-success_state"><code class="inline">success_state</code></a></td><td style="text-align: left;"><code class="inline">:success | :partial_success</code></td><td style="text-align: left;"><code class="inline">:success</code></td><td style="text-align: left;">Bulk results can be entirely or partially successful. Chooses the <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a> state to consider the step a success.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-timeout" id="reactor-bulk_create-timeout"><code class="inline">timeout</code></a></td><td style="text-align: left;"><code class="inline">timeout</code></td><td style="text-align: left;"></td><td style="text-align: left;">If none is provided, the timeout configured on the domain is used (which defaults to <code class="inline">30_000</code>).</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-transaction" id="reactor-bulk_create-transaction"><code class="inline">transaction</code></a></td><td style="text-align: left;"><code class="inline">:all | :batch | false</code></td><td style="text-align: left;"><code class="inline">:batch</code></td><td style="text-align: left;">Whether or not to wrap the entire execution in a transaction, each batch, or not at all.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-upsert_fields" id="reactor-bulk_create-upsert_fields"><code class="inline">upsert_fields</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The fields to upsert. If not set, the action's <code class="inline">upsert_fields</code> is used.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-upsert_identity" id="reactor-bulk_create-upsert_identity"><code class="inline">upsert_identity</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The identity to use for the upsert</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-upsert?" id="reactor-bulk_create-upsert?"><code class="inline">upsert?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not this action should be executed as an upsert.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-domain" id="reactor-bulk_create-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-async?" id="reactor-bulk_create-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-authorize?" id="reactor-bulk_create-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-description" id="reactor-bulk_create-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-undo_action" id="reactor-bulk_create-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_create-undo" id="reactor-bulk_create-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-bulk_create-actor" class="section-heading">
  <a href="#reactor-bulk_create-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_create.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-9" class="section-heading">
  <a href="#arguments-9" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-actor-source" id="reactor-bulk_create-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-8" class="section-heading">
  <a href="#options-8" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_create-actor-transform" id="reactor-bulk_create-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-8" class="section-heading">
  <a href="#introspection-8" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-bulk_create-load" class="section-heading">
  <a href="#reactor-bulk_create-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_create.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-10" class="section-heading">
  <a href="#arguments-10" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-load-source" id="reactor-bulk_create-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-9" class="section-heading">
  <a href="#options-9" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_create-load-transform" id="reactor-bulk_create-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-9" class="section-heading">
  <a href="#introspection-9" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-bulk_create-tenant" class="section-heading">
  <a href="#reactor-bulk_create-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_create.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-11" class="section-heading">
  <a href="#arguments-11" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-tenant-source" id="reactor-bulk_create-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-10" class="section-heading">
  <a href="#options-10" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_create-tenant-transform" id="reactor-bulk_create-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-10" class="section-heading">
  <a href="#introspection-10" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-bulk_create-wait_for" class="section-heading">
  <a href="#reactor-bulk_create-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_create.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-6" class="section-heading">
  <a href="#examples-6" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-12" class="section-heading">
  <a href="#arguments-12" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_create-wait_for-names" id="reactor-bulk_create-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-11" class="section-heading">
  <a href="#introspection-11" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-12" class="section-heading">
  <a href="#introspection-12" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.BulkCreate.html"><code class="inline">Ash.Reactor.Dsl.BulkCreate</code></a></p><h2 id="reactor-bulk_update" class="section-heading">
  <a href="#reactor-bulk_update" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_update</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">bulk_update</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step which will call an update action on a resource with a collection of inputs.</p><blockquote><h3 id="check-the-docs-1" class="warning section-heading">
  <a href="#check-the-docs-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Check the docs!</span>
</h3>
<p>Make sure to thoroughly read and understand the documentation in <a href="Ash.html#bulk_update/4"><code class="inline">Ash.bulk_update/4</code></a> before using.  Read each option and note the default values.  By default, bulk updates don't return records or errors, and don't emit notifications.</p></blockquote><p>Caveats/differences from <a href="Ash.html#bulk_update/4"><code class="inline">Ash.bulk_update/4</code></a>:</p><ol><li><code class="inline">max_concurrency</code> specifies the number of tasks that Ash will start to process batches, and has no effect on Reactor concurrency targets.  It's could be possible to create a very large number of processes if a number of steps are running bulk actions with a high degree of concurrency.</li><li>Setting <code class="inline">notify?</code> to <code class="inline">true</code> will cause both <code class="inline">notify?</code> and <code class="inline">return_notifications?</code> to be set to true in the underlying call to <a href="Ash.html#bulk_create/4"><code class="inline">Ash.bulk_create/4</code></a>. Notifications will then be managed by the <a href="Ash.Reactor.Notifications.html"><code class="inline">Ash.Reactor.Notifications</code></a> Reactor middleware.</li><li>If you specify an undo action it must be a generic action which takes the bulk result as it's only argument.</li></ol><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls-3" class="section-heading">
  <a href="#nested-dsls-3" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-bulk_update-actor">actor</a></li><li><a href="#reactor-bulk_update-inputs">inputs</a></li><li><a href="#reactor-bulk_update-tenant">tenant</a></li><li><a href="#reactor-bulk_update-wait_for">wait_for</a></li></ul><h3 id="examples-7" class="section-heading">
  <a href="#examples-7" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">bulk_update</span><span class="w"> </span><span class="ss">:publish_posts</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:publish</span><span class="w"> </span><span class="k" data-group-id="6257295681-1">do</span><span class="w">
  </span><span class="n">initial</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6257295681-2">(</span><span class="ss">:posts</span><span class="p" data-group-id="6257295681-2">)</span><span class="p">,</span><span class="w">
  </span><span class="n">actor</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="6257295681-3">(</span><span class="ss">:get_user</span><span class="p" data-group-id="6257295681-3">)</span><span class="w">
</span><span class="k" data-group-id="6257295681-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-13" class="section-heading">
  <a href="#arguments-13" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-name" id="reactor-bulk_update-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-resource" id="reactor-bulk_update-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-action" id="reactor-bulk_update-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-11" class="section-heading">
  <a href="#options-11" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-initial" id="reactor-bulk_update-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">A collection of inputs to pass to the create action. Must implement the <a href="https://hexdocs.pm/elixir/Enumerable.html"><code class="inline">Enumerable</code></a> protocol.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-allow_stream_with" id="reactor-bulk_update-allow_stream_with"><code class="inline">allow_stream_with</code></a></td><td style="text-align: left;"><code class="inline">:keyset | :offset | :full_read</code></td><td style="text-align: left;"><code class="inline">:keyset</code></td><td style="text-align: left;">The 'worst' strategy allowed to be used to fetch records if the :stream strategy is chosen. See the <a href="Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-assume_casted?" id="reactor-bulk_update-assume_casted?"><code class="inline">assume_casted?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-atomic_update" id="reactor-bulk_update-atomic_update"><code class="inline">atomic_update</code></a></td><td style="text-align: left;"><code class="inline">map</code></td><td style="text-align: left;"></td><td style="text-align: left;">A map of atomic updates to apply. See <a href="Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-authorize_changeset_with" id="reactor-bulk_update-authorize_changeset_with"><code class="inline">authorize_changeset_with</code></a></td><td style="text-align: left;"><code class="inline">:filter | :error</code></td><td style="text-align: left;"><code class="inline">:filter</code></td><td style="text-align: left;">If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-authorize_query_with" id="reactor-bulk_update-authorize_query_with"><code class="inline">authorize_query_with</code></a></td><td style="text-align: left;"><code class="inline">:filter | :error</code></td><td style="text-align: left;"><code class="inline">:filter</code></td><td style="text-align: left;">If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-authorize_query?" id="reactor-bulk_update-authorize_query?"><code class="inline">authorize_query?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">If a query is given, determines whether or not authorization is run on that query.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-batch_size" id="reactor-bulk_update-batch_size"><code class="inline">batch_size</code></a></td><td style="text-align: left;"><code class="inline">nil | pos_integer</code></td><td style="text-align: left;"></td><td style="text-align: left;">The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code> or <code class="inline">max_page_size</code> of the action, or 100.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-filter" id="reactor-bulk_update-filter"><code class="inline">filter</code></a></td><td style="text-align: left;"><code class="inline">map | keyword</code></td><td style="text-align: left;"></td><td style="text-align: left;">A filter to apply to records. This is also applied to a stream of inputs.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-lock" id="reactor-bulk_update-lock"><code class="inline">lock</code></a></td><td style="text-align: left;"><code class="inline">any</code></td><td style="text-align: left;"></td><td style="text-align: left;">A lock statement to add onto the query.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-max_concurrency" id="reactor-bulk_update-max_concurrency"><code class="inline">max_concurrency</code></a></td><td style="text-align: left;"><code class="inline">non_neg_integer</code></td><td style="text-align: left;"><code class="inline">0</code></td><td style="text-align: left;">If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-notification_metadata" id="reactor-bulk_update-notification_metadata"><code class="inline">notification_metadata</code></a></td><td style="text-align: left;"><code class="inline">map | Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"><code class="inline">%{}</code></td><td style="text-align: left;">Metadata to be merged into the metadata field for all notifications sent from this operation.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-notify?" id="reactor-bulk_update-notify?"><code class="inline">notify?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to generate any notifications. This may be intensive for large bulk actions.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-page" id="reactor-bulk_update-page"><code class="inline">page</code></a></td><td style="text-align: left;"><code class="inline">keyword</code></td><td style="text-align: left;"><code class="inline">[]</code></td><td style="text-align: left;">Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-read_action" id="reactor-bulk_update-read_action"><code class="inline">read_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The action to use when building the read query.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-return_errors?" id="reactor-bulk_update-return_errors?"><code class="inline">return_errors?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to return all of the errors that occur. Defaults to false to account for large inserts.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-return_records?" id="reactor-bulk_update-return_records?"><code class="inline">return_records?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-return_stream?" id="reactor-bulk_update-return_stream?"><code class="inline">return_stream?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">If set to <code class="inline">true</code>, instead of an <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-reuse_values?" id="reactor-bulk_update-reuse_values?"><code class="inline">reuse_values?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-rollback_on_error?" id="reactor-bulk_update-rollback_on_error?"><code class="inline">rollback_on_error?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">Whether or not to rollback the transaction on error, if the resource is in a transaction.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-select" id="reactor-bulk_update-select"><code class="inline">select</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not <code class="inline">true</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-skip_unknown_inputs" id="reactor-bulk_update-skip_unknown_inputs"><code class="inline">skip_unknown_inputs</code></a></td><td style="text-align: left;"><code class="inline">atom | String.t | list(atom | String.t)</code></td><td style="text-align: left;"></td><td style="text-align: left;">A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-sorted?" id="reactor-bulk_update-sorted?"><code class="inline">sorted?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not to sort results by their input position, in cases where <code class="inline">return_records?</code> is set to <code class="inline">true</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-stop_on_error?" id="reactor-bulk_update-stop_on_error?"><code class="inline">stop_on_error?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">If <code class="inline">true</code>, the first encountered error will stop the action and be returned. Otherwise, errors will be skipped.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-strategy" id="reactor-bulk_update-strategy"><code class="inline">strategy</code></a></td><td style="text-align: left;"><code class="inline">list(:atomic | :atomic_batches | :stream)</code></td><td style="text-align: left;"><code class="inline">[:atomic]</code></td><td style="text-align: left;">The strategy or strategies to enable. <code class="inline">:stream</code> is used in all cases if the data layer does not support atomics.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-stream_batch_size" id="reactor-bulk_update-stream_batch_size"><code class="inline">stream_batch_size</code></a></td><td style="text-align: left;"><code class="inline">pos_integer</code></td><td style="text-align: left;"></td><td style="text-align: left;">Batch size to use if provided a query and the query must be streamed.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-stream_with" id="reactor-bulk_update-stream_with"><code class="inline">stream_with</code></a></td><td style="text-align: left;"><code class="inline">:keyset | :offset | :full_read</code></td><td style="text-align: left;"></td><td style="text-align: left;">The specific strategy to use to fetch records. See <a href="Ash.html#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-success_state" id="reactor-bulk_update-success_state"><code class="inline">success_state</code></a></td><td style="text-align: left;"><code class="inline">:success | :partial_success</code></td><td style="text-align: left;"><code class="inline">:success</code></td><td style="text-align: left;">Bulk results can be entirely or partially successful. Chooses the <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a> state to consider the step a success.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-timeout" id="reactor-bulk_update-timeout"><code class="inline">timeout</code></a></td><td style="text-align: left;"><code class="inline">timeout</code></td><td style="text-align: left;"></td><td style="text-align: left;">If none is provided, the timeout configured on the domain is used (which defaults to <code class="inline">30_000</code>).</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-transaction" id="reactor-bulk_update-transaction"><code class="inline">transaction</code></a></td><td style="text-align: left;"><code class="inline">:all | :batch | false</code></td><td style="text-align: left;"><code class="inline">:batch</code></td><td style="text-align: left;">Whether or not to wrap the entire execution in a transaction, each batch, or not at all.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-domain" id="reactor-bulk_update-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-async?" id="reactor-bulk_update-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-authorize?" id="reactor-bulk_update-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-description" id="reactor-bulk_update-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-undo_action" id="reactor-bulk_update-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-bulk_update-undo" id="reactor-bulk_update-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-bulk_update-actor" class="section-heading">
  <a href="#reactor-bulk_update-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_update.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-14" class="section-heading">
  <a href="#arguments-14" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-actor-source" id="reactor-bulk_update-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-12" class="section-heading">
  <a href="#options-12" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_update-actor-transform" id="reactor-bulk_update-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-13" class="section-heading">
  <a href="#introspection-13" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-bulk_update-inputs" class="section-heading">
  <a href="#reactor-bulk_update-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_update.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-8" class="section-heading">
  <a href="#examples-8" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="8130137456-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="8130137456-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="8130137456-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="8130137456-3">(</span><span class="ss">:title</span><span class="p" data-group-id="8130137456-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="8130137456-4">(</span><span class="ss">:body</span><span class="p" data-group-id="8130137456-4">)</span><span class="w">
</span><span class="p" data-group-id="8130137456-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="2176979644-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="2176979644-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="2176979644-2">)</span><span class="p" data-group-id="2176979644-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-15" class="section-heading">
  <a href="#arguments-15" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-inputs-template" id="reactor-bulk_update-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-13" class="section-heading">
  <a href="#options-13" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_update-inputs-transform" id="reactor-bulk_update-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-14" class="section-heading">
  <a href="#introspection-14" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-bulk_update-tenant" class="section-heading">
  <a href="#reactor-bulk_update-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_update.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-16" class="section-heading">
  <a href="#arguments-16" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-tenant-source" id="reactor-bulk_update-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-14" class="section-heading">
  <a href="#options-14" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-bulk_update-tenant-transform" id="reactor-bulk_update-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-15" class="section-heading">
  <a href="#introspection-15" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-bulk_update-wait_for" class="section-heading">
  <a href="#reactor-bulk_update-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.bulk_update.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-9" class="section-heading">
  <a href="#examples-9" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-17" class="section-heading">
  <a href="#arguments-17" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-bulk_update-wait_for-names" id="reactor-bulk_update-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-16" class="section-heading">
  <a href="#introspection-16" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-17" class="section-heading">
  <a href="#introspection-17" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.BulkUpdate.html"><code class="inline">Ash.Reactor.Dsl.BulkUpdate</code></a></p><h2 id="reactor-change" class="section-heading">
  <a href="#reactor-change" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.change</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">change</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">change</span></code></pre><p>Declares a step that will modify a changeset.</p><h3 id="nested-dsls-4" class="section-heading">
  <a href="#nested-dsls-4" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-change-argument">argument</a></li><li><a href="#reactor-change-wait_for">wait_for</a></li></ul><h3 id="arguments-18" class="section-heading">
  <a href="#arguments-18" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-name" id="reactor-change-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for this step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-change" id="reactor-change-change"><code class="inline">change</code></a></td><td style="text-align: left;"><code class="inline">(any, any -&gt; any) | module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The module and options for a change. Also accepts a function that takes the changeset and the context. See <a href="Ash.Resource.Change.Builtins.html"><code class="inline">Ash.Resource.Change.Builtins</code></a> for builtin changes.</td></tr></tbody></table><h3 id="options-15" class="section-heading">
  <a href="#options-15" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-initial" id="reactor-change-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">module | Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">The initial value to work from, either a resource or a changeset</td></tr><tr><td style="text-align: left;"><a href="#reactor-change-description" id="reactor-change-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional description for the change</td></tr><tr><td style="text-align: left;"><a href="#reactor-change-only_when_valid?" id="reactor-change-only_when_valid?"><code class="inline">only_when_valid?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">If the change should only be run on valid changes. By default, all changes are run unless stated otherwise here.</td></tr><tr><td style="text-align: left;"><a href="#reactor-change-where" id="reactor-change-where"><code class="inline">where</code></a></td><td style="text-align: left;"><code class="inline">(any, any -&gt; any) | module | list((any, any -&gt; any) | module)</code></td><td style="text-align: left;"><code class="inline">[]</code></td><td style="text-align: left;">Validations that should pass in order for this change to apply. These validations failing will result in this change being ignored.</td></tr><tr><td style="text-align: left;"><a href="#reactor-change-fail_if_invalid?" id="reactor-change-fail_if_invalid?"><code class="inline">fail_if_invalid?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Fail if the result of the change is an invalid changeset</td></tr></tbody></table><h2 id="reactor-change-argument" class="section-heading">
  <a href="#reactor-change-argument" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.change.argument</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Specifies an argument to a Reactor step.</p><p>Each argument is a value which is either the result of another step, or an input value.</p><p>Individual arguments can be transformed with an arbitrary function before
being passed to any steps.</p><h3 id="examples-10" class="section-heading">
  <a href="#examples-10" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:name</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="9116339995-1">(</span><span class="ss">:name</span><span class="p" data-group-id="9116339995-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:year</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="0766805443-1">(</span><span class="ss">:date</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0766805443-2">[</span><span class="ss">:year</span><span class="p" data-group-id="0766805443-2">]</span><span class="p" data-group-id="0766805443-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="4660186955-1">(</span><span class="ss">:create_user</span><span class="p" data-group-id="4660186955-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user_id</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="9570396664-1">(</span><span class="ss">:create_user</span><span class="p" data-group-id="9570396664-1">)</span><span class="w"> </span><span class="k" data-group-id="9570396664-2">do</span><span class="w">
  </span><span class="n">transform</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="ni">&amp;1</span><span class="o">.</span><span class="n">id</span><span class="w">
</span><span class="k" data-group-id="9570396664-2">end</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:user_id</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="3978108309-1">(</span><span class="ss">:create_user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3978108309-2">[</span><span class="ss">:id</span><span class="p" data-group-id="3978108309-2">]</span><span class="p" data-group-id="3978108309-1">)</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">argument</span><span class="w"> </span><span class="ss">:three</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="1835637275-1">(</span><span class="mi">3</span><span class="p" data-group-id="1835637275-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-19" class="section-heading">
  <a href="#arguments-19" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-argument-name" id="reactor-change-argument-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the argument which will be used as the key in the <code class="inline">arguments</code> map passed to the implementation.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-argument-source" id="reactor-change-argument-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the argument. See <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.Argument.html"><code class="inline">Reactor.Dsl.Argument</code></a> for more information.</td></tr></tbody></table><h3 id="options-16" class="section-heading">
  <a href="#options-16" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-change-argument-transform" id="reactor-change-argument-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the argument before it is passed to the step.</td></tr></tbody></table><h3 id="introspection-18" class="section-heading">
  <a href="#introspection-18" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.Argument.html"><code class="inline">Reactor.Dsl.Argument</code></a></p><h2 id="reactor-change-wait_for" class="section-heading">
  <a href="#reactor-change-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.change.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-11" class="section-heading">
  <a href="#examples-11" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-20" class="section-heading">
  <a href="#arguments-20" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-change-wait_for-names" id="reactor-change-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-19" class="section-heading">
  <a href="#introspection-19" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-20" class="section-heading">
  <a href="#introspection-20" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Change.html"><code class="inline">Ash.Reactor.Dsl.Change</code></a></p><h2 id="reactor-create" class="section-heading">
  <a href="#reactor-create" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">create</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call a create action on a resource.</p><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls-5" class="section-heading">
  <a href="#nested-dsls-5" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-create-actor">actor</a></li><li><a href="#reactor-create-inputs">inputs</a></li><li><a href="#reactor-create-load">load</a></li><li><a href="#reactor-create-tenant">tenant</a></li><li><a href="#reactor-create-wait_for">wait_for</a></li></ul><h3 id="examples-12" class="section-heading">
  <a href="#examples-12" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">create</span><span class="w"> </span><span class="ss">:create_post</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:create</span><span class="w"> </span><span class="k" data-group-id="3141545744-1">do</span><span class="w">
  </span><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="3141545744-2">%{</span><span class="w">
    </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="3141545744-3">(</span><span class="ss">:post_title</span><span class="p" data-group-id="3141545744-3">)</span><span class="p">,</span><span class="w">
    </span><span class="ss">author_id</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="3141545744-4">(</span><span class="ss">:get_user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3141545744-5">[</span><span class="ss">:id</span><span class="p" data-group-id="3141545744-5">]</span><span class="p" data-group-id="3141545744-4">)</span><span class="w">
  </span><span class="p" data-group-id="3141545744-2">}</span><span class="w">
  </span><span class="n">actor</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="3141545744-6">(</span><span class="ss">:get_user</span><span class="p" data-group-id="3141545744-6">)</span><span class="w">
  </span><span class="n">tenant</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="3141545744-7">(</span><span class="ss">:get_organisation</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3141545744-8">[</span><span class="ss">:id</span><span class="p" data-group-id="3141545744-8">]</span><span class="p" data-group-id="3141545744-7">)</span><span class="w">
</span><span class="k" data-group-id="3141545744-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-21" class="section-heading">
  <a href="#arguments-21" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-name" id="reactor-create-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-resource" id="reactor-create-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-action" id="reactor-create-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-17" class="section-heading">
  <a href="#options-17" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-create-initial" id="reactor-create-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">nil | module | Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">The initial value passed into the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-upsert_identity" id="reactor-create-upsert_identity"><code class="inline">upsert_identity</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The identity to use for the upsert</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-upsert?" id="reactor-create-upsert?"><code class="inline">upsert?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not this action should be executed as an upsert.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-domain" id="reactor-create-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-async?" id="reactor-create-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-authorize?" id="reactor-create-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-description" id="reactor-create-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-undo_action" id="reactor-create-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-create-undo" id="reactor-create-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-create-actor" class="section-heading">
  <a href="#reactor-create-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-22" class="section-heading">
  <a href="#arguments-22" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-actor-source" id="reactor-create-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-18" class="section-heading">
  <a href="#options-18" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-create-actor-transform" id="reactor-create-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-21" class="section-heading">
  <a href="#introspection-21" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-create-inputs" class="section-heading">
  <a href="#reactor-create-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-13" class="section-heading">
  <a href="#examples-13" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="3780620250-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="3780620250-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="3780620250-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="3780620250-3">(</span><span class="ss">:title</span><span class="p" data-group-id="3780620250-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="3780620250-4">(</span><span class="ss">:body</span><span class="p" data-group-id="3780620250-4">)</span><span class="w">
</span><span class="p" data-group-id="3780620250-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="2783251560-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="2783251560-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="2783251560-2">)</span><span class="p" data-group-id="2783251560-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-23" class="section-heading">
  <a href="#arguments-23" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-inputs-template" id="reactor-create-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-19" class="section-heading">
  <a href="#options-19" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-create-inputs-transform" id="reactor-create-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-22" class="section-heading">
  <a href="#introspection-22" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-create-load" class="section-heading">
  <a href="#reactor-create-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-24" class="section-heading">
  <a href="#arguments-24" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-load-source" id="reactor-create-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-20" class="section-heading">
  <a href="#options-20" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-create-load-transform" id="reactor-create-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-23" class="section-heading">
  <a href="#introspection-23" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-create-tenant" class="section-heading">
  <a href="#reactor-create-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-25" class="section-heading">
  <a href="#arguments-25" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-tenant-source" id="reactor-create-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-21" class="section-heading">
  <a href="#options-21" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-create-tenant-transform" id="reactor-create-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-24" class="section-heading">
  <a href="#introspection-24" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-create-wait_for" class="section-heading">
  <a href="#reactor-create-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.create.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-14" class="section-heading">
  <a href="#examples-14" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-26" class="section-heading">
  <a href="#arguments-26" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-create-wait_for-names" id="reactor-create-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-25" class="section-heading">
  <a href="#introspection-25" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-26" class="section-heading">
  <a href="#introspection-26" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Create.html"><code class="inline">Ash.Reactor.Dsl.Create</code></a></p><h2 id="reactor-destroy" class="section-heading">
  <a href="#reactor-destroy" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">destroy</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call a destroy action on a resource.</p><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls-6" class="section-heading">
  <a href="#nested-dsls-6" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-destroy-actor">actor</a></li><li><a href="#reactor-destroy-inputs">inputs</a></li><li><a href="#reactor-destroy-load">load</a></li><li><a href="#reactor-destroy-tenant">tenant</a></li><li><a href="#reactor-destroy-wait_for">wait_for</a></li></ul><h3 id="examples-15" class="section-heading">
  <a href="#examples-15" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">destroy</span><span class="w"> </span><span class="ss">:delete_post</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:destroy</span><span class="w"> </span><span class="k" data-group-id="5390036512-1">do</span><span class="w">
  </span><span class="n">initial</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="5390036512-2">(</span><span class="ss">:post</span><span class="p" data-group-id="5390036512-2">)</span><span class="w">
  </span><span class="n">actor</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="5390036512-3">(</span><span class="ss">:get_user</span><span class="p" data-group-id="5390036512-3">)</span><span class="w">
  </span><span class="n">tenant</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="5390036512-4">(</span><span class="ss">:get_organisation</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5390036512-5">[</span><span class="ss">:id</span><span class="p" data-group-id="5390036512-5">]</span><span class="p" data-group-id="5390036512-4">)</span><span class="w">
</span><span class="k" data-group-id="5390036512-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-27" class="section-heading">
  <a href="#arguments-27" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-name" id="reactor-destroy-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-resource" id="reactor-destroy-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-action" id="reactor-destroy-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-22" class="section-heading">
  <a href="#options-22" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-initial" id="reactor-destroy-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">The record to update.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-return_destroyed?" id="reactor-destroy-return_destroyed?"><code class="inline">return_destroyed?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">Whether or not the step should return the destroyed record upon completion.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-domain" id="reactor-destroy-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-async?" id="reactor-destroy-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-authorize?" id="reactor-destroy-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-description" id="reactor-destroy-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-undo_action" id="reactor-destroy-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-destroy-undo" id="reactor-destroy-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-destroy-actor" class="section-heading">
  <a href="#reactor-destroy-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-28" class="section-heading">
  <a href="#arguments-28" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-actor-source" id="reactor-destroy-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-23" class="section-heading">
  <a href="#options-23" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-destroy-actor-transform" id="reactor-destroy-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-27" class="section-heading">
  <a href="#introspection-27" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-destroy-inputs" class="section-heading">
  <a href="#reactor-destroy-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-16" class="section-heading">
  <a href="#examples-16" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="6058367792-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="6058367792-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="6058367792-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6058367792-3">(</span><span class="ss">:title</span><span class="p" data-group-id="6058367792-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6058367792-4">(</span><span class="ss">:body</span><span class="p" data-group-id="6058367792-4">)</span><span class="w">
</span><span class="p" data-group-id="6058367792-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="2384824187-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="2384824187-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="2384824187-2">)</span><span class="p" data-group-id="2384824187-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-29" class="section-heading">
  <a href="#arguments-29" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-inputs-template" id="reactor-destroy-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-24" class="section-heading">
  <a href="#options-24" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-destroy-inputs-transform" id="reactor-destroy-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-28" class="section-heading">
  <a href="#introspection-28" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-destroy-load" class="section-heading">
  <a href="#reactor-destroy-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-30" class="section-heading">
  <a href="#arguments-30" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-load-source" id="reactor-destroy-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-25" class="section-heading">
  <a href="#options-25" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-destroy-load-transform" id="reactor-destroy-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-29" class="section-heading">
  <a href="#introspection-29" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-destroy-tenant" class="section-heading">
  <a href="#reactor-destroy-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-31" class="section-heading">
  <a href="#arguments-31" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-tenant-source" id="reactor-destroy-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-26" class="section-heading">
  <a href="#options-26" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-destroy-tenant-transform" id="reactor-destroy-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-30" class="section-heading">
  <a href="#introspection-30" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-destroy-wait_for" class="section-heading">
  <a href="#reactor-destroy-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.destroy.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-17" class="section-heading">
  <a href="#examples-17" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-32" class="section-heading">
  <a href="#arguments-32" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-destroy-wait_for-names" id="reactor-destroy-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-31" class="section-heading">
  <a href="#introspection-31" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-32" class="section-heading">
  <a href="#introspection-32" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Destroy.html"><code class="inline">Ash.Reactor.Dsl.Destroy</code></a></p><h2 id="reactor-load" class="section-heading">
  <a href="#reactor-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">records</span><span class="p">,</span><span class="w"> </span><span class="n">load</span></code></pre><p>Declares a step that will load additional data on a resource.</p><h3 id="nested-dsls-7" class="section-heading">
  <a href="#nested-dsls-7" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-load-actor">actor</a></li><li><a href="#reactor-load-tenant">tenant</a></li><li><a href="#reactor-load-wait_for">wait_for</a></li></ul><h3 id="arguments-33" class="section-heading">
  <a href="#arguments-33" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-name" id="reactor-load-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-records" id="reactor-load-records"><code class="inline">records</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">The records upon which to add extra loaded data</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-load" id="reactor-load-load"><code class="inline">load</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">An Ash load statement</td></tr></tbody></table><h3 id="options-27" class="section-heading">
  <a href="#options-27" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-load-domain" id="reactor-load-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-async?" id="reactor-load-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-authorize?" id="reactor-load-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-description" id="reactor-load-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-transform" id="reactor-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load statement before it is passed to the load.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-lazy?" id="reactor-load-lazy?"><code class="inline">lazy?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"></td><td style="text-align: left;">If set to true, values will only be loaded if the related value isn't currently loaded.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-reuse_values?" id="reactor-load-reuse_values?"><code class="inline">reuse_values?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"></td><td style="text-align: left;">Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer.</td></tr><tr><td style="text-align: left;"><a href="#reactor-load-strict?" id="reactor-load-strict?"><code class="inline">strict?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"></td><td style="text-align: left;">If set to true, only specified attributes will be loaded when passing a list of fields to fetch on a relationship, which allows for more optimized data-fetching.</td></tr></tbody></table><h2 id="reactor-load-actor" class="section-heading">
  <a href="#reactor-load-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.load.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-34" class="section-heading">
  <a href="#arguments-34" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-actor-source" id="reactor-load-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-28" class="section-heading">
  <a href="#options-28" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-load-actor-transform" id="reactor-load-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-33" class="section-heading">
  <a href="#introspection-33" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-load-tenant" class="section-heading">
  <a href="#reactor-load-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.load.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-35" class="section-heading">
  <a href="#arguments-35" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-tenant-source" id="reactor-load-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-29" class="section-heading">
  <a href="#options-29" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-load-tenant-transform" id="reactor-load-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-34" class="section-heading">
  <a href="#introspection-34" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-load-wait_for" class="section-heading">
  <a href="#reactor-load-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.load.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-18" class="section-heading">
  <a href="#examples-18" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-36" class="section-heading">
  <a href="#arguments-36" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-load-wait_for-names" id="reactor-load-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-35" class="section-heading">
  <a href="#introspection-35" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-36" class="section-heading">
  <a href="#introspection-36" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Load.html"><code class="inline">Ash.Reactor.Dsl.Load</code></a></p><h2 id="reactor-read_one" class="section-heading">
  <a href="#reactor-read_one" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">read_one</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call a read action on a resource returning a single record.</p><h3 id="nested-dsls-8" class="section-heading">
  <a href="#nested-dsls-8" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-read_one-actor">actor</a></li><li><a href="#reactor-read_one-inputs">inputs</a></li><li><a href="#reactor-read_one-load">load</a></li><li><a href="#reactor-read_one-tenant">tenant</a></li><li><a href="#reactor-read_one-wait_for">wait_for</a></li></ul><h3 id="examples-19" class="section-heading">
  <a href="#examples-19" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">read_one</span><span class="w"> </span><span class="ss">:post_by_id</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="w"> </span><span class="k" data-group-id="2768699200-1">do</span><span class="w">
  </span><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="2768699200-2">%{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="2768699200-3">(</span><span class="ss">:post_id</span><span class="p" data-group-id="2768699200-3">)</span><span class="p" data-group-id="2768699200-2">}</span><span class="w">
</span><span class="k" data-group-id="2768699200-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-37" class="section-heading">
  <a href="#arguments-37" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-name" id="reactor-read_one-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-resource" id="reactor-read_one-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read_one-action" id="reactor-read_one-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-30" class="section-heading">
  <a href="#options-30" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read_one-fail_on_not_found?" id="reactor-read_one-fail_on_not_found?"><code class="inline">fail_on_not_found?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">false</code></td><td style="text-align: left;">When set to true the step will fail if the resource is not found.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read_one-domain" id="reactor-read_one-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read_one-async?" id="reactor-read_one-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read_one-authorize?" id="reactor-read_one-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read_one-description" id="reactor-read_one-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr></tbody></table><h2 id="reactor-read_one-actor" class="section-heading">
  <a href="#reactor-read_one-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-38" class="section-heading">
  <a href="#arguments-38" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-actor-source" id="reactor-read_one-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-31" class="section-heading">
  <a href="#options-31" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read_one-actor-transform" id="reactor-read_one-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-37" class="section-heading">
  <a href="#introspection-37" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-read_one-inputs" class="section-heading">
  <a href="#reactor-read_one-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-20" class="section-heading">
  <a href="#examples-20" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="4761348642-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="4761348642-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="4761348642-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="4761348642-3">(</span><span class="ss">:title</span><span class="p" data-group-id="4761348642-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="4761348642-4">(</span><span class="ss">:body</span><span class="p" data-group-id="4761348642-4">)</span><span class="w">
</span><span class="p" data-group-id="4761348642-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="0710378298-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="0710378298-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="0710378298-2">)</span><span class="p" data-group-id="0710378298-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-39" class="section-heading">
  <a href="#arguments-39" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-inputs-template" id="reactor-read_one-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-32" class="section-heading">
  <a href="#options-32" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read_one-inputs-transform" id="reactor-read_one-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-38" class="section-heading">
  <a href="#introspection-38" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-read_one-load" class="section-heading">
  <a href="#reactor-read_one-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-40" class="section-heading">
  <a href="#arguments-40" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-load-source" id="reactor-read_one-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-33" class="section-heading">
  <a href="#options-33" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read_one-load-transform" id="reactor-read_one-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-39" class="section-heading">
  <a href="#introspection-39" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-read_one-tenant" class="section-heading">
  <a href="#reactor-read_one-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-41" class="section-heading">
  <a href="#arguments-41" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-tenant-source" id="reactor-read_one-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-34" class="section-heading">
  <a href="#options-34" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read_one-tenant-transform" id="reactor-read_one-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-40" class="section-heading">
  <a href="#introspection-40" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-read_one-wait_for" class="section-heading">
  <a href="#reactor-read_one-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read_one.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-21" class="section-heading">
  <a href="#examples-21" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-42" class="section-heading">
  <a href="#arguments-42" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read_one-wait_for-names" id="reactor-read_one-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-41" class="section-heading">
  <a href="#introspection-41" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-42" class="section-heading">
  <a href="#introspection-42" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ReadOne.html"><code class="inline">Ash.Reactor.Dsl.ReadOne</code></a></p><h2 id="reactor-read" class="section-heading">
  <a href="#reactor-read" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">read</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call a read action on a resource.</p><h3 id="nested-dsls-9" class="section-heading">
  <a href="#nested-dsls-9" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-read-actor">actor</a></li><li><a href="#reactor-read-inputs">inputs</a></li><li><a href="#reactor-read-load">load</a></li><li><a href="#reactor-read-tenant">tenant</a></li><li><a href="#reactor-read-wait_for">wait_for</a></li></ul><h3 id="examples-22" class="section-heading">
  <a href="#examples-22" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">read</span><span class="w"> </span><span class="ss">:read_posts</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:read</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">read</span><span class="w"> </span><span class="ss">:read_posts_in_range</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:read_in_range</span><span class="w"> </span><span class="k" data-group-id="6868432994-1">do</span><span class="w">
  </span><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="6868432994-2">%{</span><span class="ss">min_date</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6868432994-3">(</span><span class="ss">:min_date</span><span class="p" data-group-id="6868432994-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">max_date</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="6868432994-4">(</span><span class="ss">:max_date</span><span class="p" data-group-id="6868432994-4">)</span><span class="p" data-group-id="6868432994-2">}</span><span class="w">
</span><span class="k" data-group-id="6868432994-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-43" class="section-heading">
  <a href="#arguments-43" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-name" id="reactor-read-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-resource" id="reactor-read-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read-action" id="reactor-read-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-35" class="section-heading">
  <a href="#options-35" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read-domain" id="reactor-read-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read-async?" id="reactor-read-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read-authorize?" id="reactor-read-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-read-description" id="reactor-read-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr></tbody></table><h2 id="reactor-read-actor" class="section-heading">
  <a href="#reactor-read-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-44" class="section-heading">
  <a href="#arguments-44" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-actor-source" id="reactor-read-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-36" class="section-heading">
  <a href="#options-36" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read-actor-transform" id="reactor-read-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-43" class="section-heading">
  <a href="#introspection-43" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-read-inputs" class="section-heading">
  <a href="#reactor-read-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-23" class="section-heading">
  <a href="#examples-23" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="2472779461-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="2472779461-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="2472779461-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="2472779461-3">(</span><span class="ss">:title</span><span class="p" data-group-id="2472779461-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="2472779461-4">(</span><span class="ss">:body</span><span class="p" data-group-id="2472779461-4">)</span><span class="w">
</span><span class="p" data-group-id="2472779461-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="9547824217-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="9547824217-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="9547824217-2">)</span><span class="p" data-group-id="9547824217-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-45" class="section-heading">
  <a href="#arguments-45" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-inputs-template" id="reactor-read-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-37" class="section-heading">
  <a href="#options-37" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read-inputs-transform" id="reactor-read-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-44" class="section-heading">
  <a href="#introspection-44" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-read-load" class="section-heading">
  <a href="#reactor-read-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-46" class="section-heading">
  <a href="#arguments-46" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-load-source" id="reactor-read-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-38" class="section-heading">
  <a href="#options-38" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read-load-transform" id="reactor-read-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-45" class="section-heading">
  <a href="#introspection-45" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-read-tenant" class="section-heading">
  <a href="#reactor-read-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-47" class="section-heading">
  <a href="#arguments-47" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-tenant-source" id="reactor-read-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-39" class="section-heading">
  <a href="#options-39" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-read-tenant-transform" id="reactor-read-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-46" class="section-heading">
  <a href="#introspection-46" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-read-wait_for" class="section-heading">
  <a href="#reactor-read-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.read.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-24" class="section-heading">
  <a href="#examples-24" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-48" class="section-heading">
  <a href="#arguments-48" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-read-wait_for-names" id="reactor-read-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-47" class="section-heading">
  <a href="#introspection-47" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-48" class="section-heading">
  <a href="#introspection-48" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Read.html"><code class="inline">Ash.Reactor.Dsl.Read</code></a></p><h2 id="reactor-transaction" class="section-heading">
  <a href="#reactor-transaction" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.transaction</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">transaction</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resources</span></code></pre><p>Creates a group of steps which will be executed inside a data layer transaction.</p><h3 id="nested-dsls-10" class="section-heading">
  <a href="#nested-dsls-10" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-transaction-wait_for">wait_for</a></li></ul><h3 id="arguments-49" class="section-heading">
  <a href="#arguments-49" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-transaction-name" id="reactor-transaction-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-transaction-resources" id="reactor-transaction-resources"><code class="inline">resources</code></a></td><td style="text-align: left;"><code class="inline">module | list(module)</code></td><td style="text-align: left;"></td><td style="text-align: left;">A resource or list of resources to consider in the transaction.</td></tr></tbody></table><h3 id="options-40" class="section-heading">
  <a href="#options-40" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-transaction-return" id="reactor-transaction-return"><code class="inline">return</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step whose result will be returned as the return value of the transaction.</td></tr><tr><td style="text-align: left;"><a href="#reactor-transaction-timeout" id="reactor-transaction-timeout"><code class="inline">timeout</code></a></td><td style="text-align: left;"><code class="inline">pos_integer | :infinity</code></td><td style="text-align: left;"><code class="inline">15000</code></td><td style="text-align: left;">How long to allow the transaction to run before timing out.</td></tr></tbody></table><h2 id="reactor-transaction-wait_for" class="section-heading">
  <a href="#reactor-transaction-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.transaction.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-25" class="section-heading">
  <a href="#examples-25" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-50" class="section-heading">
  <a href="#arguments-50" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-transaction-wait_for-names" id="reactor-transaction-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-49" class="section-heading">
  <a href="#introspection-49" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-50" class="section-heading">
  <a href="#introspection-50" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Transaction.html"><code class="inline">Ash.Reactor.Dsl.Transaction</code></a></p><h2 id="reactor-update" class="section-heading">
  <a href="#reactor-update" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">update</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">resource</span><span class="p">,</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="o">\\</span><span class="w"> </span><span class="no">nil</span></code></pre><p>Declares a step that will call an update action on a resource.</p><blockquote><h4 class="tip">Undo behaviour</h4><p>This step has three different modes of undo.</p><ul><li><code class="inline">never</code> - The result of the action is never undone.  This is the default.</li><li><code class="inline">always</code> - The <code class="inline">undo_action</code> will always be called.</li><li><code class="inline">outside_transaction</code> - The <code class="inline">undo_action</code> will not be called when running inside a <code class="inline">transaction</code> block, but will be otherwise.</li></ul></blockquote><h3 id="nested-dsls-11" class="section-heading">
  <a href="#nested-dsls-11" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Nested DSLs</span>
</h3>
<ul><li><a href="#reactor-update-actor">actor</a></li><li><a href="#reactor-update-inputs">inputs</a></li><li><a href="#reactor-update-load">load</a></li><li><a href="#reactor-update-tenant">tenant</a></li><li><a href="#reactor-update-wait_for">wait_for</a></li></ul><h3 id="examples-26" class="section-heading">
  <a href="#examples-26" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">update</span><span class="w"> </span><span class="ss">:publish_post</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Post</span><span class="p">,</span><span class="w"> </span><span class="ss">:update</span><span class="w"> </span><span class="k" data-group-id="1139438925-1">do</span><span class="w">
  </span><span class="n">initial</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="1139438925-2">(</span><span class="ss">:post</span><span class="p" data-group-id="1139438925-2">)</span><span class="w">
  </span><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="1139438925-3">%{</span><span class="w">
    </span><span class="ss">published</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="1139438925-4">(</span><span class="no">true</span><span class="p" data-group-id="1139438925-4">)</span><span class="w">
  </span><span class="p" data-group-id="1139438925-3">}</span><span class="w">
  </span><span class="n">actor</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="1139438925-5">(</span><span class="ss">:get_user</span><span class="p" data-group-id="1139438925-5">)</span><span class="w">
  </span><span class="n">tenant</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="1139438925-6">(</span><span class="ss">:get_organisation</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1139438925-7">[</span><span class="ss">:id</span><span class="p" data-group-id="1139438925-7">]</span><span class="p" data-group-id="1139438925-6">)</span><span class="w">
</span><span class="k" data-group-id="1139438925-1">end</span><span class="w">
</span></code></pre><h3 id="arguments-51" class="section-heading">
  <a href="#arguments-51" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-name" id="reactor-update-name"><code class="inline">name</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">A unique name for the step.</td></tr><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-resource" id="reactor-update-resource"><code class="inline">resource</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The resource to call the action on.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-action" id="reactor-update-action"><code class="inline">action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource.</td></tr></tbody></table><h3 id="options-41" class="section-heading">
  <a href="#options-41" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-initial" id="reactor-update-initial"><code class="inline">initial</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">The record to update.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-domain" id="reactor-update-domain"><code class="inline">domain</code></a></td><td style="text-align: left;"><code class="inline">module</code></td><td style="text-align: left;"></td><td style="text-align: left;">The Domain to use when calling the action.  Defaults to the Domain set on the resource or in the <code class="inline">ash</code> section.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-async?" id="reactor-update-async?"><code class="inline">async?</code></a></td><td style="text-align: left;"><code class="inline">boolean</code></td><td style="text-align: left;"><code class="inline">true</code></td><td style="text-align: left;">When set to true the step will be executed asynchronously via Reactor's <code class="inline">TaskSupervisor</code>.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-authorize?" id="reactor-update-authorize?"><code class="inline">authorize?</code></a></td><td style="text-align: left;"><code class="inline">boolean | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">Explicitly enable or disable authorization for the action.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-description" id="reactor-update-description"><code class="inline">description</code></a></td><td style="text-align: left;"><code class="inline">String.t</code></td><td style="text-align: left;"></td><td style="text-align: left;">A description for the step</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-undo_action" id="reactor-update-undo_action"><code class="inline">undo_action</code></a></td><td style="text-align: left;"><code class="inline">atom</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the action to call on the resource when the step is to be undone.</td></tr><tr><td style="text-align: left;"><a href="#reactor-update-undo" id="reactor-update-undo"><code class="inline">undo</code></a></td><td style="text-align: left;"><code class="inline">:always | :never | :outside_transaction</code></td><td style="text-align: left;"><code class="inline">:never</code></td><td style="text-align: left;">How to handle undoing this action</td></tr></tbody></table><h2 id="reactor-update-actor" class="section-heading">
  <a href="#reactor-update-actor" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update.actor</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">actor</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action actor</p><h3 id="arguments-52" class="section-heading">
  <a href="#arguments-52" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-actor-source" id="reactor-update-actor-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the actor.</td></tr></tbody></table><h3 id="options-42" class="section-heading">
  <a href="#options-42" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-update-actor-transform" id="reactor-update-actor-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the actor before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-51" class="section-heading">
  <a href="#introspection-51" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Actor.html"><code class="inline">Ash.Reactor.Dsl.Actor</code></a></p><h2 id="reactor-update-inputs" class="section-heading">
  <a href="#reactor-update-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update.inputs</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="n">template</span></code></pre><p>Specify the inputs for an action</p><h3 id="examples-27" class="section-heading">
  <a href="#examples-27" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="w"> </span><span class="p" data-group-id="1903222589-1">%{</span><span class="w">
  </span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="1903222589-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="1903222589-2">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="1903222589-3">(</span><span class="ss">:title</span><span class="p" data-group-id="1903222589-3">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">body</span><span class="p">:</span><span class="w"> </span><span class="n">input</span><span class="p" data-group-id="1903222589-4">(</span><span class="ss">:body</span><span class="p" data-group-id="1903222589-4">)</span><span class="w">
</span><span class="p" data-group-id="1903222589-1">}</span><span class="w">
</span></code></pre><pre><code class="makeup elixir" translate="no"><span class="n">inputs</span><span class="p" data-group-id="9696781473-1">(</span><span class="ss">author</span><span class="p">:</span><span class="w"> </span><span class="n">result</span><span class="p" data-group-id="9696781473-2">(</span><span class="ss">:get_user</span><span class="p" data-group-id="9696781473-2">)</span><span class="p" data-group-id="9696781473-1">)</span><span class="w">
</span></code></pre><h3 id="arguments-53" class="section-heading">
  <a href="#arguments-53" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-inputs-template" id="reactor-update-inputs-template"><code class="inline">template</code></a></td><td style="text-align: left;"><code class="inline">%{optional(atom) =&gt; Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value} | keyword(Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value)</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td></tr></tbody></table><h3 id="options-43" class="section-heading">
  <a href="#options-43" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-update-inputs-transform" id="reactor-update-inputs-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which will transform the inputs before executing the action.</td></tr></tbody></table><h3 id="introspection-52" class="section-heading">
  <a href="#introspection-52" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Inputs.html"><code class="inline">Ash.Reactor.Dsl.Inputs</code></a></p><h2 id="reactor-update-load" class="section-heading">
  <a href="#reactor-update-load" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update.load</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">load</span><span class="w"> </span><span class="n">source</span></code></pre><p>Allows the addition of an Ash load statement to the action</p><h3 id="arguments-54" class="section-heading">
  <a href="#arguments-54" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-load-source" id="reactor-update-load-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the load</td></tr></tbody></table><h3 id="options-44" class="section-heading">
  <a href="#options-44" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-update-load-transform" id="reactor-update-load-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the load before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-53" class="section-heading">
  <a href="#introspection-53" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.ActionLoad.html"><code class="inline">Ash.Reactor.Dsl.ActionLoad</code></a></p><h2 id="reactor-update-tenant" class="section-heading">
  <a href="#reactor-update-tenant" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update.tenant</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">tenant</span><span class="w"> </span><span class="n">source</span></code></pre><p>Specifies the action tenant</p><h3 id="arguments-55" class="section-heading">
  <a href="#arguments-55" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-tenant-source" id="reactor-update-tenant-source"><code class="inline">source</code></a></td><td style="text-align: left;"><code class="inline">Reactor.Template.Element | Reactor.Template.Input | Reactor.Template.Result | Reactor.Template.Value</code></td><td style="text-align: left;"></td><td style="text-align: left;">What to use as the source of the tenant.</td></tr></tbody></table><h3 id="options-45" class="section-heading">
  <a href="#options-45" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="#reactor-update-tenant-transform" id="reactor-update-tenant-transform"><code class="inline">transform</code></a></td><td style="text-align: left;"><code class="inline">(any -&gt; any) | module | nil</code></td><td style="text-align: left;"></td><td style="text-align: left;">An optional transformation function which can be used to modify the tenant before it is passed to the action.</td></tr></tbody></table><h3 id="introspection-54" class="section-heading">
  <a href="#introspection-54" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Tenant.html"><code class="inline">Ash.Reactor.Dsl.Tenant</code></a></p><h2 id="reactor-update-wait_for" class="section-heading">
  <a href="#reactor-update-wait_for" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">reactor.update.wait_for</span>
</h2>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="n">names</span></code></pre><p>Wait for the named step to complete before allowing this one to start.</p><p>Desugars to <code class="inline">argument :_, result(step_to_wait_for)</code></p><h3 id="examples-28" class="section-heading">
  <a href="#examples-28" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Examples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">wait_for</span><span class="w"> </span><span class="ss">:create_user</span></code></pre><h3 id="arguments-56" class="section-heading">
  <a href="#arguments-56" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h3>
<table><thead><tr><th style="text-align: left;">Name</th><th style="text-align: left;">Type</th><th style="text-align: left;">Default</th><th style="text-align: left;">Docs</th></tr></thead><tbody><tr><td style="text-align: left;"><a class="spark-required" href="#reactor-update-wait_for-names" id="reactor-update-wait_for-names"><code class="inline">names</code></a></td><td style="text-align: left;"><code class="inline">atom | list(atom)</code></td><td style="text-align: left;"></td><td style="text-align: left;">The name of the step to wait for.</td></tr></tbody></table><h3 id="introspection-55" class="section-heading">
  <a href="#introspection-55" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="https://hexdocs.pm/reactor/0.9.1/Reactor.Dsl.WaitFor.html"><code class="inline">Reactor.Dsl.WaitFor</code></a></p><h3 id="introspection-56" class="section-heading">
  <a href="#introspection-56" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Introspection</span>
</h3>
<p>Target: <a href="Ash.Reactor.Dsl.Update.html"><code class="inline">Ash.Reactor.Dsl.Update</code></a></p><style type="text/css">.spark-required::after { content: "*"; color: red !important; }</style>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="dsl-ash-datalayer-mnesia.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
DSL: Ash.DataLayer.Mnesia
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ash/3.4.8" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ash/3.4.8">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/ash/3.4.8/show/documentation/dsls/DSL:-Ash.Reactor.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ash.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
