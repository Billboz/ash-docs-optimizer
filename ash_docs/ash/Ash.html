<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="ash v3.4.8">


    <title>Ash â€” ash v3.4.8</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-370365CE.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>
<style>
  .livebook-badge-container + pre {
    display: none;
  }
</style>
<script>
  if (location.hostname === "hexdocs.pm") {
    var script = document.createElement("script");
    script.src = "https://plausible.io/js/script.js";
    script.setAttribute("defer", "defer")
    script.setAttribute("data-domain", "ashhexdocs")
    document.head.appendChild(script);
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad: true})</script>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://github.com/ash-project/ash" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ash" />
        </a>

      <div>
        <a href="https://github.com/ash-project/ash" class="sidebar-projectName" translate="no">
ash
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.4.8
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
GUIDES
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ash</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">Ash</span> 
    <small class="app-vsn" translate="no">(ash v3.4.8)</small>

  </h1>


    <section id="moduledoc">
<p>The primary interface to call actions and interact with resources.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:aggregate/0" data-no-tooltip translate="no">aggregate()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:load_statement/0" data-no-tooltip translate="no">load_statement()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:page_request/0" data-no-tooltip translate="no">page_request()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:record_or_records/0" data-no-tooltip translate="no">record_or_records()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:record_with_args/0" data-no-tooltip translate="no">record_with_args()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:resource_with_args/0" data-no-tooltip translate="no">resource_with_args()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#aggregate/3" data-no-tooltip translate="no">aggregate(query, aggregate_or_aggregates, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs an aggregate or aggregates over a resource query</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#aggregate!/3" data-no-tooltip translate="no">aggregate!(query, aggregate_or_aggregates, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs an aggregate or aggregates over a resource query. See <a href="#aggregate/3"><code class="inline">aggregate/3</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#avg/3" data-no-tooltip translate="no">avg(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the average of all values of a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#avg!/3" data-no-tooltip translate="no">avg!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the average of all values of a given field or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create/4" data-no-tooltip translate="no">bulk_create(inputs, resource, action, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates many records.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_create!/4" data-no-tooltip translate="no">bulk_create!(inputs, resource, action, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Creates many records, raising any errors that are returned. See <a href="#bulk_create/4"><code class="inline">bulk_create/4</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_destroy/4" data-no-tooltip translate="no">bulk_destroy(query_or_stream, action, input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Destroys all items in the provided enumerable or query with the provided input.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_destroy!/4" data-no-tooltip translate="no">bulk_destroy!(stream_or_query, action, input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Destroys all items in the provided enumerable or query with the provided input.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_update/4" data-no-tooltip translate="no">bulk_update(query_or_stream, action, input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Updates all items in the provided enumerable or query with the provided input.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#bulk_update!/4" data-no-tooltip translate="no">bulk_update!(stream_or_query, action, input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Updates all items in the provided enumerable or query with the provided input.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate/3" data-no-tooltip translate="no">calculate(resource_or_record, calculation, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Evaluates the calculation on the resource.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate!/3" data-no-tooltip translate="no">calculate!(resource_or_record, calculation, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Evaluates the calculation on the resource or raises an error. See <a href="#calculate/3"><code class="inline">calculate/3</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#calculate_opts/0" data-no-tooltip translate="no">calculate_opts()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can/3" data-no-tooltip translate="no">can(action_or_query_or_changeset, actor, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns whether or not the user can perform the action, or <code class="inline">:maybe</code>, returning any errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#can?/3" data-no-tooltip translate="no">can?(action_or_query_or_changeset, actor, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns whether or not the user can perform the action, or raises on errors.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#context_to_opts/2" data-no-tooltip translate="no">context_to_opts(map, add_to \\ [])</a>

          <span class="deprecated" title="Converts a context map to opts to be passed into an action.
">deprecated</span>

      </div>

        <div class="summary-synopsis"><p>See <a href="Ash.Context.html#to_opts/2"><code class="inline">Ash.Context.to_opts/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count/2" data-no-tooltip translate="no">count(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the count of results that would be returned from a given query.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#count!/2" data-no-tooltip translate="no">count!(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the count of results that would be returned from a given query, or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create/3" data-no-tooltip translate="no">create(changeset_or_resource, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Create a record.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#create!/3" data-no-tooltip translate="no">create!(changeset_or_resource, params \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Create a record or raises an error. See <a href="#create/2"><code class="inline">create/2</code></a> for more information.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy/2" data-no-tooltip translate="no">destroy(changeset_or_record, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Destroy a record.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#destroy!/2" data-no-tooltip translate="no">destroy!(changeset_or_record, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Destroy a record. See <a href="#destroy/2"><code class="inline">destroy/2</code></a> for more information.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exists/2" data-no-tooltip translate="no">exists(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns whether or not the query would return any results.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exists?/2" data-no-tooltip translate="no">exists?(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Returns whether or not the query would return any results, or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first/3" data-no-tooltip translate="no">first(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the first value for a given field, or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first!/3" data-no-tooltip translate="no">first!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the first value for a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get/3" data-no-tooltip translate="no">get(resource, id, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Get a record by an identifier.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get!/3" data-no-tooltip translate="no">get!(resource, id, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Get a record by an identifier, or raises an error. See <a href="#get/3"><code class="inline">get/3</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list/3" data-no-tooltip translate="no">list(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches a list of all values of a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#list!/3" data-no-tooltip translate="no">list!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches a list of all values of a given field or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load/3" data-no-tooltip translate="no">load(data, query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Load fields or relationships on already fetched records.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#load!/3" data-no-tooltip translate="no">load!(data, query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Load fields or relationships on already fetched records. See <a href="#load/3"><code class="inline">load/3</code></a> for more information.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#max/3" data-no-tooltip translate="no">max(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the greatest of all values of a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#max!/3" data-no-tooltip translate="no">max!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the greatest of all values of a given field or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#min/3" data-no-tooltip translate="no">min(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the least of all values of a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#min!/3" data-no-tooltip translate="no">min!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the least of all values of a given field or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#page/2" data-no-tooltip translate="no">page(page, n)</a>

      </div>

        <div class="summary-synopsis"><p>Fetch a page relative to the provided page.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#page!/2" data-no-tooltip translate="no">page!(page, request)</a>

      </div>

        <div class="summary-synopsis"><p>Fetch a page relative to the provided page or raises an error</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read/2" data-no-tooltip translate="no">read(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs an <a href="Ash.Query.html"><code class="inline">Ash.Query</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read!/2" data-no-tooltip translate="no">read!(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Run an <a href="Ash.Query.html"><code class="inline">Ash.Query</code></a>. See <a href="#read/2"><code class="inline">read/2</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_first/2" data-no-tooltip translate="no">read_first(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs a query on a resource, returning a first result, nil, or an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_first!/2" data-no-tooltip translate="no">read_first!(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs an ash query, returning the first result or raise an error. See <a href="#read_first/2"><code class="inline">read_first/2</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_one/2" data-no-tooltip translate="no">read_one(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs a query on a resource, returning a single result, nil, or an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read_one!/2" data-no-tooltip translate="no">read_one!(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs an ash query, returning a single result or raise an error. See <a href="#read_one/2"><code class="inline">read_one/2</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reload/2" data-no-tooltip translate="no">reload(record, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Refetches a record by primary key. See <a href="#reload/2"><code class="inline">reload/2</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reload!/2" data-no-tooltip translate="no">reload!(record, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Refetches a record by primary key or raises an error. See <a href="#reload/2"><code class="inline">reload/2</code></a> for more.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#run_action/2" data-no-tooltip translate="no">run_action(input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs a generic action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#run_action!/2" data-no-tooltip translate="no">run_action!(input, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Runs a generic action or raises an error. See <a href="#run_action/2"><code class="inline">run_action/2</code></a> for more</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stream!/2" data-no-tooltip translate="no">stream!(query, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Streams the results of a query.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sum/3" data-no-tooltip translate="no">sum(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the sum of a given field.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#sum!/3" data-no-tooltip translate="no">sum!(query, field, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Fetches the sum of a given field or raises an error.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update/3" data-no-tooltip translate="no">update(changeset_or_record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Update a record.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update!/3" data-no-tooltip translate="no">update!(changeset_or_record, params_or_opts \\ %{}, opts \\ [])</a>

      </div>

        <div class="summary-synopsis"><p>Update a record. See <a href="#update/2"><code class="inline">update/2</code></a> for more information.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:aggregate/0">

  <div class="detail-header">
    <a href="#t:aggregate/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">aggregate()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L12" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> aggregate() ::
  <a href="Ash.Query.Aggregate.html#t:t/0">Ash.Query.Aggregate.t</a>()
  | {name :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(), kind :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()}
  | {name :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(), kind :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:load_statement/0">

  <div class="detail-header">
    <a href="#t:load_statement/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">load_statement()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L17" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> load_statement() ::
  <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>()
  | [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()]
  | <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()
  | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
  | [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | {<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}]</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:page_request/0">

  <div class="detail-header">
    <a href="#t:page_request/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">page_request()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L9" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> page_request() :: :next | :prev | :first | :last | :self | <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:record_or_records/0">

  <div class="detail-header">
    <a href="#t:record_or_records/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">record_or_records()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1716" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> record_or_records() :: <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()]</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:record_with_args/0">

  <div class="detail-header">
    <a href="#t:record_with_args/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">record_with_args()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L26" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> record_with_args() :: {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:resource_with_args/0">

  <div class="detail-header">
    <a href="#t:resource_with_args/0" class="detail-link" data-no-tooltip title="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature" translate="no">resource_with_args()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L24" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@type</span> resource_with_args() :: {<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()}</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="aggregate/3">

    <span id="aggregate/2"></span>

  <div class="detail-header">
    <a href="#aggregate/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">aggregate(query, aggregate_or_aggregates, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L877" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> aggregate(
  <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(),
  aggregates :: <a href="#t:aggregate/0">aggregate</a>() | [<a href="#t:aggregate/0">aggregate</a>()],
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | {:error, <a href="Ash.Error.html#t:t/0">Ash.Error.t</a>()}</pre>

      </div>

<p>Runs an aggregate or aggregates over a resource query</p><p>If you pass an <code class="inline">%Ash.Query.Aggregate{}</code>, gotten from <code class="inline">Ash.Query.Aggregate.new()</code>,
the query provided as the first argument to this function will not apply. For this
reason, it is preferred that you pass in the tuple format, i.e</p><p>Prefer this:
<code class="inline">Api.aggregate(query, {:count_of_things, :count})</code></p><p>Over this:
<code class="inline">Api.aggregate(query, Ash.Query.Aggregate.new(...))</code></p><ul><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="aggregate!/3">

    <span id="aggregate!/2"></span>

  <div class="detail-header">
    <a href="#aggregate!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">aggregate!(query, aggregate_or_aggregates, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L839" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> aggregate!(
  <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(),
  aggregates :: <a href="#t:aggregate/0">aggregate</a>() | [<a href="#t:aggregate/0">aggregate</a>()],
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Runs an aggregate or aggregates over a resource query. See <a href="#aggregate/3"><code class="inline">aggregate/3</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="avg/3">

    <span id="avg/2"></span>

  <div class="detail-header">
    <a href="#avg/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">avg(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1184" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the average of all values of a given field.</p>
  </section>
</section>
<section class="detail" id="avg!/3">

    <span id="avg!/2"></span>

  <div class="detail-header">
    <a href="#avg!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">avg!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1206" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the average of all values of a given field or raises an error.</p>
  </section>
</section>
<section class="detail" id="bulk_create/4">

    <span id="bulk_create/3"></span>

  <div class="detail-header">
    <a href="#bulk_create/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_create(inputs, resource, action, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2319" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_create(
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()),
  resource :: <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(),
  action :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>()
  | Enumerable.t(
      {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()}
      | {:error, <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Error.html#t:t/0">Ash.Error.t</a>()}
      | {:notification, <a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()}
    )</pre>

      </div>

<p>Creates many records.</p><h2 id="bulk_create/4-assumptions" class="section-heading">
  <a href="#bulk_create/4-assumptions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Assumptions</span>
</h2>
<p>We assume that the input is a list of changesets all for the same action, or a list of input maps for the
same action with the <code class="inline">:resource</code> and <code class="inline">:action</code> option provided to illustrate which action it is for.</p><h2 id="bulk_create/4-performance-feasibility" class="section-heading">
  <a href="#bulk_create/4-performance-feasibility" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Performance/Feasibility</span>
</h2>
<p>The performance of this operation depends on the data layer in question.
Data layers like AshPostgres will choose reasonable batch sizes in an attempt
to handle large bulk actions, but that does not mean that you can pass a list of
500k inputs and expect things to go off without a hitch (although it might).
If you need to do large data processing, you should look into projects like
GenStage and Broadway. With that said, if you want to do things like support CSV upload
and you place some reasonable limits on the size this is a great tool. You'll need to
test it yourself, YMMV.</p><p>Passing <code class="inline">return_records?: true</code> can significantly increase the time it takes to perform the operation,
and can also make the operation completely unreasonable due to the memory requirement. If you want to
do very large bulk creates and display all of the results, the suggestion is to annotate them with a
&quot;bulk_create_id&quot; in the data layer, and then read the records with that <code class="inline">bulk_create_id</code> so that they can
be retrieved later if necessary.</p><h2 id="bulk_create/4-changes-validations" class="section-heading">
  <a href="#bulk_create/4-changes-validations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Changes/Validations</span>
</h2>
<p>Changes will be applied in the order they are given on the actions as normal. Any change that exposes
the <code class="inline">bulk_change</code> callbacks will be applied on the entire list.</p><h2 id="bulk_create/4-after-action-hooks" class="section-heading">
  <a href="#bulk_create/4-after-action-hooks" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">After Action Hooks</span>
</h2>
<p>The following requirements must be met for <code class="inline">after_action</code> hooks to function properly. If they are not met,
and an after_action hook being applied to a changeset in a <code class="inline">change</code>.</p><ol><li><code class="inline">return_records?</code> must be set to <code class="inline">true</code>.</li><li>The changeset must be setting the primary key as part of its changes, so that we know which result applies to which
changeset.</li></ol><p>It is possible to use <code class="inline">after_action</code> hooks with <code class="inline">bulk_change/3</code>, but you need to return the hooks along with the changesets.
This allows for setting up <code class="inline">after_action</code> hooks that don't need access to the returned record,
or <code class="inline">after_action</code> hooks that can operate on the entire list at once.  See the documentation for that callback for more on
how to do accomplish that.</p><h2 id="bulk_create/4-options" class="section-heading">
  <a href="#bulk_create/4-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</p></li><li><p><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's <code class="inline">upsert_fields</code> is used. Unlike singular <code class="inline">create</code>, <code class="inline">bulk_create</code> with <code class="inline">upsert?</code> requires that <code class="inline">upsert_fields</code> be specified explicitly in one of these two locations.</p></li><li><p><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</p></li><li><p><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on each changeset</p></li><li><p><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the errors that occur. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</p></li><li><p><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.<br/>Potential elements:<br/><code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an invidual error. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.<br/>Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.<br/>Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.<br/>Keep in mind:<br/><code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
 Valid values are :all, :batch, false The default value is <code class="inline">:batch</code>.</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li></ul>
  </section>
</section>
<section class="detail" id="bulk_create!/4">

    <span id="bulk_create!/3"></span>

  <div class="detail-header">
    <a href="#bulk_create!/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_create!(inputs, resource, action, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2222" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_create!(<a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()), <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Creates many records, raising any errors that are returned. See <a href="#bulk_create/4"><code class="inline">bulk_create/4</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="bulk_destroy/4">

    <span id="bulk_destroy/3"></span>

  <div class="detail-header">
    <a href="#bulk_destroy/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_destroy(query_or_stream, action, input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2533" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_destroy(
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()) | <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>(),
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(),
  <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>()</pre>

      </div>

<p>Destroys all items in the provided enumerable or query with the provided input.</p><p>The input is a map of valid inputs for the action. The input will be applied to all records in the enumerable/query.</p><p>If the data layer supports destroying from a query, and the destroy action can be done fully atomically,
it will be updated in a single pass using the data layer.</p><p>Otherwise, this will stream each record and update it.</p><h2 id="bulk_destroy/4-options" class="section-heading">
  <a href="#bulk_destroy/4-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:resource</code> (<a href="Ash.Resource.html"><code class="inline">Ash.Resource</code></a>) - The resource being destroyed. This must be provided if the input given is a stream, so we know ahead of time what the resource being updated is.</p></li><li><p><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</p></li><li><p><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. Valid values are :atomic, :atomic_batches, :stream The default value is <code class="inline">:atomic</code>.</p></li><li><p><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</p></li><li><p><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read The default value is <code class="inline">:keyset</code>.</p></li><li><p><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read</p></li><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</p></li><li><p><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on each changeset</p></li><li><p><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the errors that occur. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</p></li><li><p><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.<br/>Potential elements:<br/><code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an invidual error. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.<br/>Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.<br/>Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.<br/>Keep in mind:<br/><code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
 Valid values are :all, :batch, false The default value is <code class="inline">:batch</code>.</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li></ul>
  </section>
</section>
<section class="detail" id="bulk_destroy!/4">

    <span id="bulk_destroy!/3"></span>

  <div class="detail-header">
    <a href="#bulk_destroy!/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_destroy!(stream_or_query, action, input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2475" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_destroy!(
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()) | <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>(),
  action :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Destroys all items in the provided enumerable or query with the provided input.</p><p>See <a href="#bulk_destroy/4"><code class="inline">bulk_destroy/4</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="bulk_update/4">

    <span id="bulk_update/3"></span>

  <div class="detail-header">
    <a href="#bulk_update/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_update(query_or_stream, action, input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2424" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_update(
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()) | <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>(),
  <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(),
  <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>()</pre>

      </div>

<p>Updates all items in the provided enumerable or query with the provided input.</p><p>The input is a map of valid inputs for the action. The input will be applied to all records in the enumerable/query.</p><p>If the data layer supports updating from a query, and the update action can be done fully atomically,
it will be updated in a single pass using the data layer.</p><p>Otherwise, this will stream each record and update it.</p><h2 id="bulk_update/4-options" class="section-heading">
  <a href="#bulk_update/4-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:resource</code> (<a href="Ash.Resource.html"><code class="inline">Ash.Resource</code></a>) - The resource being updated. This must be provided if the input given is a stream, so we know ahead of time what the resource being updated is.</p></li><li><p><code class="inline">:atomic_update</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - A map of atomic updates to apply. See <a href="Ash.Changeset.html#atomic_update/3"><code class="inline">Ash.Changeset.atomic_update/3</code></a> for more.</p></li><li><p><code class="inline">:stream_batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - Batch size to use if provided a query and the query must be streamed</p></li><li><p><code class="inline">:authorize_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a query is given, determines whether or not authorization is run on that query. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply to records. This is also applied to a stream of inputs.</p></li><li><p><code class="inline">:strategy</code> - The strategy or strategies to enable. :stream is used in all cases if the data layer does not support atomics. Valid values are :atomic, :atomic_batches, :stream The default value is <code class="inline">[:atomic]</code>.</p></li><li><p><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read The default value is <code class="inline">:keyset</code>.</p></li><li><p><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read</p></li><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:read_action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The action to use when building the read query.</p></li><li><p><code class="inline">:assume_casted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to cast attributes and arguments as input. This is an optimization for cases where the input is already casted and/or not in need of casting The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:select</code> (list of <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - A select statement to apply to records. Ignored if <code class="inline">return_records?</code> is not true.</p></li><li><p><code class="inline">:authorize_query_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_changeset_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized changes, unauthorized changes will raise an appropriate forbidden error. Uses <code class="inline">authorize_with</code> if not set. Valid values are :filter, :error</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of filtering unauthorized query results, unauthorized query results will raise an appropriate forbidden error. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on each changeset</p></li><li><p><code class="inline">:sorted?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to sort results by their input position, in cases where <code class="inline">return_records?: true</code> was provided. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_records?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the records that were inserted. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_errors?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return all of the errors that occur. Defaults to false to account for large inserts. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in each batch. Defaults to the <code class="inline">default_limit</code>
or <code class="inline">max_page_size</code> of the action, or 100.</p></li><li><p><code class="inline">:return_stream?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, instead of an <a href="Ash.BulkResult.html"><code class="inline">Ash.BulkResult</code></a>, a mixed stream is returned.<br/>Potential elements:<br/><code class="inline">{:notification, notification}</code> - if <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>
<code class="inline">{:ok, record}</code> - if <code class="inline">return_records?</code> is set to <code class="inline">true</code>
<code class="inline">{:error, error}</code> - an error that occurred. May be changeset or an invidual error. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:return_nothing?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Mutes warnings about returning nothing.<br/>Only relevant if <code class="inline">return_stream?</code> is set to <code class="inline">true</code> and all other
<code class="inline">return_*?</code> options are set to <code class="inline">false</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:stop_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the first encountered error will stop the action and be returned. Otherwise, errors
will be skipped. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:notify?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to generate any notifications. If this is set to <code class="inline">true</code> then the data layer must return
the results from each batch. This may be intensive for large bulk actions.<br/>Notifications will be automatically sent unless <code class="inline">return_notifications?</code> is set to <code class="inline">true</code>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:transaction</code> - Whether or not to wrap the entire execution in a transaction, each batch, or not at all.<br/>Keep in mind:<br/><code class="inline">before_transaction</code> and <code class="inline">after_transaction</code> hooks attached to changesets will have to be run
<em>inside</em> the transaction if you choose <code class="inline">transaction: :all</code>.
 Valid values are :all, :batch, false The default value is <code class="inline">:batch</code>.</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - If set to a value greater than 0, up to that many tasks will be started to run batches asynchronously The default value is <code class="inline">0</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li></ul>
  </section>
</section>
<section class="detail" id="bulk_update!/4">

    <span id="bulk_update!/3"></span>

  <div class="detail-header">
    <a href="#bulk_update!/4" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">bulk_update!(stream_or_query, action, input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2366" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> bulk_update!(
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()) | <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>(),
  action :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="Ash.BulkResult.html#t:t/0">Ash.BulkResult.t</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Updates all items in the provided enumerable or query with the provided input.</p><p>See <a href="#bulk_update/4"><code class="inline">bulk_update/4</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="calculate/3">

    <span id="calculate/2"></span>

  <div class="detail-header">
    <a href="#calculate/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">calculate(resource_or_record, calculation, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1427" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> calculate(
  resource_or_record :: <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(),
  calculation :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Evaluates the calculation on the resource.</p><p>If a record is provided, its field values will be used to evaluate the calculation.</p><ul><li><p><code class="inline">:args</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Values for arguments referenced by the calculation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:refs</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Values for references used by the calculation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor for handling <a href="https://hexdocs.pm/elixir/Kernel.SpecialForms.html#%5E/1"><code class="inline">^actor/1</code></a> templates, supplied to calculation context.</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant, supplied to calculation context.</p></li><li><p><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not the request is being authorized, provided to calculation context. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer, provided to the calculation context.</p></li><li><p><code class="inline">:record</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A record to use as the base of the calculation</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use for the action</p></li></ul>
  </section>
</section>
<section class="detail" id="calculate!/3">

    <span id="calculate!/2"></span>

  <div class="detail-header">
    <a href="#calculate!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">calculate!(resource_or_record, calculation, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1397" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> calculate!(
  resource_or_record :: <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(),
  calculation :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Evaluates the calculation on the resource or raises an error. See <a href="#calculate/3"><code class="inline">calculate/3</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="calculate_opts/0">

  <div class="detail-header">
    <a href="#calculate_opts/0" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">calculate_opts()</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L719" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="can/3">

    <span id="can/2"></span>

  <div class="detail-header">
    <a href="#can/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">can(action_or_query_or_changeset, actor, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1310" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> can(
  action_or_query_or_changeset ::
    <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>()
    | <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>()
    | <a href="Ash.ActionInput.html#t:t/0">Ash.ActionInput.t</a>()
    | {<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()}
    | {<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>(), input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()}
    | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()}
    | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>(),
       input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()},
  actor :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() | :maybe}
  | {:ok, true, <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>()}
  | {:ok, true, <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>(), <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>()}
  | {:ok, false, <a href="https://hexdocs.pm/elixir/Exception.html#t:t/0">Exception.t</a>()}
  | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Returns whether or not the user can perform the action, or <code class="inline">:maybe</code>, returning any errors.</p><p>In cases with &quot;runtime&quot; checks (checks after the action), we may not be able to determine
an answer, and so the value <code class="inline">:maybe</code> will be returned from <a href="#can/2"><code class="inline">can/2</code></a>. The <code class="inline">can?</code> function assumes that
<code class="inline">:maybe</code> means <code class="inline">true</code>. Keep in mind, this is just for doing things like &quot;can they do this&quot; in a UI,
so assuming <code class="inline">:maybe</code> is <code class="inline">true</code> is fine. The actual action invocation will be properly checked regardless.
If you have runtime checks, you may need to use <code class="inline">can</code> instead of <code class="inline">can?</code>, or configure what <code class="inline">:maybe</code> means.</p><h3 id="can/3-accepted-inputs" class="section-heading">
  <a href="#can/3-accepted-inputs" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Accepted inputs</span>
</h3>
<p>You can pass many different inputs as the subject to <a href="#can/3"><code class="inline">can/3</code></a>.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Can this user run this query.</span><span class="w">
</span><span class="nc">Ash.Query</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-1">(</span><span class="p" data-group-id="1168151641-1">)</span><span class="w">

</span><span class="c1"># Can this user run this changeset.</span><span class="w">
</span><span class="nc">Ash.Changeset</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-2">(</span><span class="p" data-group-id="1168151641-2">)</span><span class="w">

</span><span class="c1"># Can this user run this action.</span><span class="w">
</span><span class="nc">Ash.ActionInput</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-3">(</span><span class="p" data-group-id="1168151641-3">)</span><span class="w">

</span><span class="c1"># Can this user run this action.</span><span class="w">
</span><span class="p" data-group-id="1168151641-4">{</span><span class="nc">Ash.Resource</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-5">(</span><span class="p" data-group-id="1168151641-5">)</span><span class="p">,</span><span class="w"> </span><span class="ss">:action</span><span class="p" data-group-id="1168151641-4">}</span><span class="w">

</span><span class="c1"># Can this user run this action.</span><span class="w">
</span><span class="p" data-group-id="1168151641-6">{</span><span class="nc">Ash.Resource</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-7">(</span><span class="p" data-group-id="1168151641-7">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1168151641-8">%</span><span class="nc" data-group-id="1168151641-8">Action</span><span class="p" data-group-id="1168151641-8">{</span><span class="p" data-group-id="1168151641-8">}</span><span class="p" data-group-id="1168151641-6">}</span><span class="w">

</span><span class="c1"># Can this user run this action with this input.</span><span class="w">
</span><span class="p" data-group-id="1168151641-9">{</span><span class="nc">Ash.Resource</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-10">(</span><span class="p" data-group-id="1168151641-10">)</span><span class="p">,</span><span class="w"> </span><span class="ss">:atom</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1168151641-11">%{</span><span class="n">...</span><span class="n">input</span><span class="p" data-group-id="1168151641-11">}</span><span class="p" data-group-id="1168151641-9">}</span><span class="w">

</span><span class="c1"># Can this user run this action with this input.</span><span class="w">
</span><span class="p" data-group-id="1168151641-12">{</span><span class="nc">Ash.Resource</span><span class="o">.</span><span class="n">t</span><span class="p" data-group-id="1168151641-13">(</span><span class="p" data-group-id="1168151641-13">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1168151641-14">%</span><span class="nc" data-group-id="1168151641-14">Action</span><span class="p" data-group-id="1168151641-14">{</span><span class="p" data-group-id="1168151641-14">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1168151641-15">%{</span><span class="n">...</span><span class="n">input</span><span class="p" data-group-id="1168151641-15">}</span><span class="p" data-group-id="1168151641-12">}</span></code></pre><h3 id="can/3-options" class="section-heading">
  <a href="#can/3-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<ul><li><p><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">:maybe</code>.</p></li><li><p><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</p></li><li><p><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</p></li><li><p><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</p></li><li><p><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</p></li><li><p><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="can?/3">

    <span id="can?/2"></span>

  <div class="detail-header">
    <a href="#can?/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">can?(action_or_query_or_changeset, actor, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1239" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> can?(
  query_or_changeset_or_action ::
    <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>()
    | <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>()
    | <a href="Ash.ActionInput.html#t:t/0">Ash.ActionInput.t</a>()
    | {<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()}
    | {<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>(), input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()}
    | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>()}
    | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="Ash.Resource.Actions.html#t:action/0">Ash.Resource.Actions.action</a>(),
       input :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()},
  actor :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Returns whether or not the user can perform the action, or raises on errors.</p><p>Calls <a href="#can/3"><code class="inline">can/3</code></a> with a <code class="inline">maybe_is: true</code>. See <a href="#can/3"><code class="inline">can/3</code></a> for more info.</p><h3 id="can?/3-options" class="section-heading">
  <a href="#can?/3-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h3>
<ul><li><p><code class="inline">:maybe_is</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If the actor <em>may</em> be able to perform the action, what value should be returned. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:filter_with</code> - If set to <code class="inline">:error</code>, the query will raise an error on a match. If set to <code class="inline">:filter</code> the query will filter out unauthorized access. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:pre_flight?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not this is a pre_flight check (which may perform optimized in-memory checks) or the final proper check. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:run_queries?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to run queries. If set to <code class="inline">true</code>, <code class="inline">:maybe</code> will not be returned. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:data</code> - The record or records specifically attempting to be acted upon.</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant to use for authorization</p></li><li><p><code class="inline">:alter_source?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to <code class="inline">true</code>, the source being authorized is returned so it can be run. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:base_query</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</p></li><li><p><code class="inline">:no_check?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not authorization must pass at the strict/filter step, or if post-checks are allowed to be run The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:on_must_pass_strict_check</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Override the value returned when <code class="inline">no_check?</code> is <code class="inline">true</code> but a check must be run.</p></li><li><p><code class="inline">:atomic_changeset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A base query on which to apply an generated filters</p></li><li><p><code class="inline">:return_forbidden_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return a forbidden error in cases of not being authorized. The default value is <code class="inline">false</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="context_to_opts/2">

    <span id="context_to_opts/1"></span>

  <div class="detail-header">
    <a href="#context_to_opts/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">context_to_opts(map, add_to \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2754" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

    <div class="deprecated">
      This function is deprecated. Converts a context map to opts to be passed into an action.
.
    </div>

  <section class="docstring">

<p>See <a href="Ash.Context.html#to_opts/2"><code class="inline">Ash.Context.to_opts/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="count/2">

    <span id="count/1"></span>

  <div class="detail-header">
    <a href="#count/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">count(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L912" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the count of results that would be returned from a given query.</p>
  </section>
</section>
<section class="detail" id="count!/2">

    <span id="count!/1"></span>

  <div class="detail-header">
    <a href="#count!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">count!(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L899" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the count of results that would be returned from a given query, or raises an error.</p>
  </section>
</section>
<section class="detail" id="create/3">

    <span id="create/1"></span>

    <span id="create/2"></span>

  <div class="detail-header">
    <a href="#create/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create(changeset_or_resource, params_or_opts \\ %{}, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2162" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create(
  changset_or_resource :: <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(),
  params_or_opts :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()}
  | {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Create a record.</p><ul><li><p><code class="inline">:upsert?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If a conflict is found based on the primary key, the record is updated in the database (requires upsert support) The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:upsert_identity</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">atom/0</code></a>) - The identity to use when detecting conflicts for <code class="inline">upsert?</code>, e.g. <code class="inline">upsert_identity: :full_name</code>. By default, the primary key is used. Has no effect if <code class="inline">upsert?: true</code> is not provided</p></li><li><p><code class="inline">:upsert_fields</code> - The fields to upsert. If not set, the action's upsert_fields is used, and if that is not set, then any fields not being set to defaults are written.</p></li><li><p><code class="inline">:upsert_condition</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - An expression to check if the record should be updated when there's a conflict.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</p></li></ul>
  </section>
</section>
<section class="detail" id="create!/3">

    <span id="create!/1"></span>

    <span id="create!/2"></span>

  <div class="detail-header">
    <a href="#create!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create!(changeset_or_resource, params \\ %{}, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2135" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> create!(
  changset_or_resource :: <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(),
  params_or_opts :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()
  | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Create a record or raises an error. See <a href="#create/2"><code class="inline">create/2</code></a> for more information.</p>
  </section>
</section>
<section class="detail" id="destroy/2">

    <span id="destroy/1"></span>

  <div class="detail-header">
    <a href="#destroy/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">destroy(changeset_or_record, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2712" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> destroy(<a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  :ok
  | {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()}
  | {:ok, [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Destroy a record.</p><ul><li><p><code class="inline">:return_destroyed?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true, the destroyed record is included in the return result, e.g <code class="inline">{:ok, destroyed}</code> or <code class="inline">{:ok, destroyed, notifications}</code> The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</p></li></ul>
  </section>
</section>
<section class="detail" id="destroy!/2">

    <span id="destroy!/1"></span>

  <div class="detail-header">
    <a href="#destroy!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">destroy!(changeset_or_record, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2683" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> destroy!(<a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  :ok
  | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()
  | [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]
  | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Destroy a record. See <a href="#destroy/2"><code class="inline">destroy/2</code></a> for more information.</p>
  </section>
</section>
<section class="detail" id="exists/2">

    <span id="exists/1"></span>

  <div class="detail-header">
    <a href="#exists/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">exists(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L945" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Returns whether or not the query would return any results.</p>
  </section>
</section>
<section class="detail" id="exists?/2">

    <span id="exists?/1"></span>

  <div class="detail-header">
    <a href="#exists?/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">exists?(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L932" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Returns whether or not the query would return any results, or raises an error.</p>
  </section>
</section>
<section class="detail" id="first/3">

    <span id="first/2"></span>

  <div class="detail-header">
    <a href="#first/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">first(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L972" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the first value for a given field, or raises an error.</p>
  </section>
</section>
<section class="detail" id="first!/3">

    <span id="first!/2"></span>

  <div class="detail-header">
    <a href="#first!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">first!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1013" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the first value for a given field.</p>
  </section>
</section>
<section class="detail" id="get/3">

    <span id="get/2"></span>

  <div class="detail-header">
    <a href="#get/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get(resource, id, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1472" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get(<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Get a record by an identifier.</p><p>For a resource with a composite primary key, pass a keyword list or map, e.g
<code class="inline">Ash.get(MyResource, %{first_key: 1, second_key: 2})</code></p><p>Additionally, a keyword list or map of keys matching an identity can be provided.</p><ul><li><p><code class="inline">:error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not an error should be returned or raised when the record is not found. If set to false, <code class="inline">nil</code> will be returned. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Fields or relationships to load in the query. See <a href="Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a></p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="get!/3">

    <span id="get!/2"></span>

  <div class="detail-header">
    <a href="#get!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get!(resource, id, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1443" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> get!(<a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Get a record by an identifier, or raises an error. See <a href="#get/3"><code class="inline">get/3</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="list/3">

    <span id="list/2"></span>

  <div class="detail-header">
    <a href="#list/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">list(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1061" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches a list of all values of a given field.</p>
  </section>
</section>
<section class="detail" id="list!/3">

    <span id="list!/2"></span>

  <div class="detail-header">
    <a href="#list!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">list!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1101" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches a list of all values of a given field or raises an error.</p>
  </section>
</section>
<section class="detail" id="load/3">

    <span id="load/2"></span>

  <div class="detail-header">
    <a href="#load/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">load(data, query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1764" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> load(
  record_or_records :: <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()],
  query :: <a href="#t:load_statement/0">load_statement</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()]} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Load fields or relationships on already fetched records.</p><p>Accepts a list of non-loaded fields and loads them on the provided records or a query, in
which case the loaded fields of the query are used. Relationship loads can be nested, for
example: <code class="inline">Ash.load(record, [posts: [:comments]])</code>.</p><ul><li><p><code class="inline">:lazy?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, values will only be loaded if the related value isn't currently loaded. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:strict?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If set to true, only specified attributes will be loaded when passing
  a list of fields to fetch on a relationship, which allows for more
  optimized data-fetching.<br/>  See <a href="Ash.Query.html#load/2"><code class="inline">Ash.Query.load/2</code></a>. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="load!/3">

    <span id="load!/2"></span>

  <div class="detail-header">
    <a href="#load!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">load!(data, query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1734" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> load!(
  record_or_records ::
    <a href="#t:record_or_records/0">record_or_records</a>()
    | {:ok, <a href="#t:record_or_records/0">record_or_records</a>()}
    | :error
    | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}
    | :ok
    | <a href="Ash.Page.html#t:page/0">Ash.Page.page</a>(),
  query :: <a href="#t:load_statement/0">load_statement</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) :: <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()] | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Load fields or relationships on already fetched records. See <a href="#load/3"><code class="inline">load/3</code></a> for more information.</p>
  </section>
</section>
<section class="detail" id="max/3">

    <span id="max/2"></span>

  <div class="detail-header">
    <a href="#max/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">max(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1114" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the greatest of all values of a given field.</p>
  </section>
</section>
<section class="detail" id="max!/3">

    <span id="max!/2"></span>

  <div class="detail-header">
    <a href="#max!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">max!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1136" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the greatest of all values of a given field or raises an error.</p>
  </section>
</section>
<section class="detail" id="min/3">

    <span id="min/2"></span>

  <div class="detail-header">
    <a href="#min/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">min(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1149" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the least of all values of a given field.</p>
  </section>
</section>
<section class="detail" id="min!/3">

    <span id="min!/2"></span>

  <div class="detail-header">
    <a href="#min!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">min!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1171" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the least of all values of a given field or raises an error.</p>
  </section>
</section>
<section class="detail" id="page/2">

  <div class="detail-header">
    <a href="#page/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">page(page, n)</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1573" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> page(<a href="Ash.Page.html#t:page/0">Ash.Page.page</a>(), <a href="#t:page_request/0">page_request</a>()) ::
  {:ok, <a href="Ash.Page.html#t:page/0">Ash.Page.page</a>()} | {:error, <a href="Ash.Error.html#t:t/0">Ash.Error.t</a>()}</pre>

      </div>

<p>Fetch a page relative to the provided page.</p>
  </section>
</section>
<section class="detail" id="page!/2">

  <div class="detail-header">
    <a href="#page!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">page!(page, request)</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1562" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> page!(<a href="Ash.Page.html#t:page/0">Ash.Page.page</a>(), <a href="#t:page_request/0">page_request</a>()) :: <a href="Ash.Page.html#t:page/0">Ash.Page.page</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Fetch a page relative to the provided page or raises an error</p>
  </section>
</section>
<section class="detail" id="read/2">

    <span id="read/1"></span>

  <div class="detail-header">
    <a href="#read/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1955" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> read(<a href="Ash.Query.html#t:t/0">Ash.Query.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  {:ok, [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()] | <a href="Ash.Page.html#t:page/0">Ash.Page.page</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Runs an <a href="Ash.Query.html"><code class="inline">Ash.Query</code></a>.</p><p>For more information on building a query, see <a href="Ash.Query.html"><code class="inline">Ash.Query</code></a>.</p><ul><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authroization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul><h2 id="read/2-pagination" class="section-heading">
  <a href="#read/2-pagination" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Pagination</span>
</h2>
<h4>Limit/offset pagination</h4><ul><li><p><code class="inline">:offset</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The number of records to skip from the beginning of the query</p></li><li><p><code class="inline">:limit</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - The number of records to include in the page</p></li><li><p><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A filter to apply for pagination purposes, that should not be considered in the full count.<br/>This is used by the liveview paginator to only fetch the records that were <em>already</em> on the
page when refreshing data, to avoid pages jittering.</p></li><li><p><code class="inline">:count</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return the page with a full count of all records</p></li></ul><h4>Keyset pagination</h4><ul><li><p><code class="inline">:before</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - Get records that appear before the provided keyset (mutually exclusive with <code class="inline">after</code>)</p></li><li><p><code class="inline">:after</code> (<a href="https://hexdocs.pm/elixir/String.html#t:t/0"><code class="inline">String.t/0</code></a>) - Get records that appear after the provided keyset (mutually exclusive with <code class="inline">before</code>)</p></li><li><p><code class="inline">:limit</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">pos_integer/0</code></a>) - How many records to include in the page</p></li><li><p><code class="inline">:filter</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - See the <code class="inline">filter</code> option for offset pagination, this behaves the same.</p></li><li><p><code class="inline">:count</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return the page with a full count of all records</p></li></ul>
  </section>
</section>
<section class="detail" id="read!/2">

    <span id="read!/1"></span>

  <div class="detail-header">
    <a href="#read!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read!(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1928" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> read!(<a href="Ash.Query.html#t:t/0">Ash.Query.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  [<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()] | <a href="Ash.Page.html#t:page/0">Ash.Page.page</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Run an <a href="Ash.Query.html"><code class="inline">Ash.Query</code></a>. See <a href="#read/2"><code class="inline">read/2</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="read_first/2">

    <span id="read_first/1"></span>

  <div class="detail-header">
    <a href="#read_first/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read_first(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2086" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Runs a query on a resource, returning a first result, nil, or an error.</p><p>Query is automatically limited to only return one result, unlike <code class="inline">read_one/3</code></p><h2 id="read_first/2-options" class="section-heading">
  <a href="#read_first/2-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return an <a href="Ash.Error.Query.NotFound.html"><code class="inline">Ash.Error.Query.NotFound</code></a> if no record is found. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authroization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="read_first!/2">

    <span id="read_first!/1"></span>

  <div class="detail-header">
    <a href="#read_first!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read_first!(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2067" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Runs an ash query, returning the first result or raise an error. See <a href="#read_first/2"><code class="inline">read_first/2</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="read_one/2">

    <span id="read_one/1"></span>

  <div class="detail-header">
    <a href="#read_one/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read_one(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2044" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Runs a query on a resource, returning a single result, nil, or an error.</p><p>If more than one result would be returned, an error is returned instead.</p><h2 id="read_one/2-options" class="section-heading">
  <a href="#read_one/2-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:not_found_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to return an <a href="Ash.Error.Query.NotFound.html"><code class="inline">Ash.Error.Query.NotFound</code></a> if no record is found. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authroization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="read_one!/2">

    <span id="read_one!/1"></span>

  <div class="detail-header">
    <a href="#read_one!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">read_one!(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2017" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Runs an ash query, returning a single result or raise an error. See <a href="#read_one/2"><code class="inline">read_one/2</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="reload/2">

    <span id="reload/1"></span>

  <div class="detail-header">
    <a href="#reload/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">reload(record, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2004" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> reload(record :: <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()} | {:error, <a href="Ash.Error.html#t:t/0">Ash.Error.t</a>()}</pre>

      </div>

<p>Refetches a record by primary key. See <a href="#reload/2"><code class="inline">reload/2</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="reload!/2">

    <span id="reload!/1"></span>

  <div class="detail-header">
    <a href="#reload!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">reload!(record, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1989" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> reload!(record :: <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Refetches a record by primary key or raises an error. See <a href="#reload/2"><code class="inline">reload/2</code></a> for more.</p>
  </section>
</section>
<section class="detail" id="run_action/2">

    <span id="run_action/1"></span>

  <div class="detail-header">
    <a href="#run_action/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">run_action(input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1368" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> run_action(input :: <a href="Ash.ActionInput.html#t:t/0">Ash.ActionInput.t</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  :ok | {:ok, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()} | {:error, <a href="Ash.Error.html#t:t/0">Ash.Error.t</a>()}</pre>

      </div>

<p>Runs a generic action.</p><p>Options:</p><ul><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The actor for handling <a href="https://hexdocs.pm/elixir/Kernel.SpecialForms.html#%5E/1"><code class="inline">^actor/1</code></a> templates, supplied to calculation context.</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - The tenant, supplied to calculation context.</p></li><li><p><code class="inline">:authorize?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not the request should be authorized.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer, provided to the calculation context.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use for the action</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li></ul>
  </section>
</section>
<section class="detail" id="run_action!/2">

    <span id="run_action!/1"></span>

  <div class="detail-header">
    <a href="#run_action!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">run_action!(input, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1343" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> run_action!(input :: <a href="Ash.ActionInput.html#t:t/0">Ash.ActionInput.t</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>() | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Runs a generic action or raises an error. See <a href="#run_action/2"><code class="inline">run_action/2</code></a> for more</p>
  </section>
</section>
<section class="detail" id="stream!/2">

    <span id="stream!/1"></span>

  <div class="detail-header">
    <a href="#stream!/2" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">stream!(query, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1904" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> stream!(query :: <a href="Ash.Query.html#t:t/0">Ash.Query.t</a>() | <a href="Ash.Resource.html#t:t/0">Ash.Resource.t</a>(), opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="https://hexdocs.pm/elixir/Enumerable.html#t:t/1">Enumerable.t</a>(<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>())</pre>

      </div>

<p>Streams the results of a query.</p><h2 id="stream!/2-strategies" class="section-heading">
  <a href="#stream!/2-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Strategies</span>
</h2>
<p>There are three strategies supported, and the best one available is always chosen. They are,
in order from best to worst:</p><ul><li><code class="inline">:keyset</code></li><li><code class="inline">:offset</code></li><li><code class="inline">:full_read</code></li></ul><p>By default, only <code class="inline">:keyset</code> is supported. If you want to allow worse strategies to be used, pass
the worst one you wish to allow as the <code class="inline">allow_stream_with</code> option, i.e <code class="inline">allow_stream_with: :full_read</code>.
If you wish to specify a specific strategy to use, pass <code class="inline">stream_with: :strategy_name</code>.</p><h3 id="stream!/2-keyset" class="section-heading">
  <a href="#stream!/2-keyset" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Keyset</span>
</h3>
<p>This utilizes keyset pagination to accomplish this stream. The action must support keyset pagination.
This is the most efficient way to stream a query, because it works by using filters which can benefit
from indexes in the data layer.</p><h3 id="stream!/2-offset" class="section-heading">
  <a href="#stream!/2-offset" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Offset</span>
</h3>
<p>This utilizes offset/limit to accomplish this stream. If the action supports offset pagination, that will
be used. Otherwise, if the data layer supports limit/offset, then explicit limits/offsets will be used.
This is a much less efficient way of streaming a resource than <code class="inline">keyset</code>. To use limit/offset to reliably
stream, a sort must always be applied, and limit/offset in the data layer will generally require sorting
the entire table to figure out what is in each batch.</p><h3 id="stream!/2-full-read" class="section-heading">
  <a href="#stream!/2-full-read" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Full Read</span>
</h3>
<p>This reads the entire table into memory with no limit. This is, generally speaking, the least efficient.</p><h2 id="stream!/2-options" class="section-heading">
  <a href="#stream!/2-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><p><code class="inline">:batch_size</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">integer/0</code></a>) - How many records to request in each query run. Defaults to the pagination limits on the resource, or 250.</p></li><li><p><code class="inline">:allow_stream_with</code> - The 'worst' strategy allowed to be used to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read The default value is <code class="inline">:keyset</code>.</p></li><li><p><code class="inline">:stream_with</code> - The specific strategy to use to fetch records. See <a href="#stream!/2"><code class="inline">Ash.stream!/2</code></a> docs for more. Valid values are :keyset, :offset, :full_read</p></li><li><p><code class="inline">:page</code> - Pagination options, see <a href="read-actions.html#pagination">the pagination docs for more</a>.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the query</p></li><li><p><code class="inline">:max_concurrency</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">non_neg_integer/0</code></a>) - The maximum number of processes allowed to be started for parallel loading of relationships and calculations. Defaults to <code class="inline">System.schedulers_online() * 2</code></p></li><li><p><code class="inline">:lock</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A lock statement to add onto the query</p></li><li><p><code class="inline">:return_query?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If <code class="inline">true</code>, the query that was ultimately used is returned as a third tuple element.<br/>The query goes through many potential changes during a request, potentially adding
authorization filters, or replacing relationships for other data layers with their
corresponding ids. This option can be used to get the true query that was sent to
the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:reuse_values?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether calculations are allowed to reuse values that have already been loaded, or must refetch them from the data layer. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:authorize_with</code> - If set to <code class="inline">:error</code>, instead of applying authorization filters as a filter, any records not matching the authroization filter will cause an error to be returned. Valid values are :filter, :error The default value is <code class="inline">:filter</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li></ul>
  </section>
</section>
<section class="detail" id="sum/3">

    <span id="sum/2"></span>

  <div class="detail-header">
    <a href="#sum/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">sum(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1026" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the sum of a given field.</p>
  </section>
</section>
<section class="detail" id="sum!/3">

    <span id="sum!/2"></span>

  <div class="detail-header">
    <a href="#sum!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">sum!(query, field, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L1048" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fetches the sum of a given field or raises an error.</p>
  </section>
</section>
<section class="detail" id="update/3">

    <span id="update/1"></span>

    <span id="update/2"></span>

  <div class="detail-header">
    <a href="#update/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update(changeset_or_record, params_or_opts \\ %{}, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2608" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update(
  changeset_or_record :: <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(),
  params_or_opts :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()}
  | {:ok, <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>

      </div>

<p>Update a record.</p><ul><li><p><code class="inline">:params</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Parameters to supply, ignored if the input is a changeset, only used when an identifier is given.</p></li><li><p><code class="inline">:atomic_upgrade?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - If true the action will be done atomically if it can (and is configured to do so), ignoring the in memory transformations and validations. You should not generally need to disable this. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:domain</code> (<a href="Ash.Domain.html"><code class="inline">Ash.Domain</code></a>) - The domain to use.</p></li><li><p><code class="inline">:timeout</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">timeout/0</code></a>) - A positive integer, or <code class="inline">:infinity</code>. If none is provided, the timeout configured on the domain is used.</p></li><li><p><code class="inline">:tracer</code> (one or a list of module that adopts <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a>) - A tracer that implements the <a href="Ash.Tracer.html"><code class="inline">Ash.Tracer</code></a> behaviour. See that module for more.</p></li><li><p><code class="inline">:action</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - The action to use, either an Action struct or the name of the action</p></li><li><p><code class="inline">:authorize?</code> - If an actor option is provided (even if it is <code class="inline">nil</code>), authorization happens automatically. If not, this flag can be used to authorize with no user. Valid values are true, false, nil</p></li><li><p><code class="inline">:context</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types"><code class="inline">map/0</code></a>) - Context to set on the query, changeset, or input</p></li><li><p><code class="inline">:tenant</code> (value that implements the <a href="Ash.ToTenant.html"><code class="inline">Ash.ToTenant</code></a> protocol) - A tenant to set on the query or changeset</p></li><li><p><code class="inline">:actor</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - If an actor is provided, it will be used in conjunction with the authorizers of a resource to authorize access</p></li><li><p><code class="inline">:return_notifications?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Use this if you're running ash actions in your own transaction and you want to manually handle sending notifications.<br/>If a transaction is ongoing, and this is false, notifications will be discarded, otherwise
the return value is <code class="inline">{:ok, result, notifications}</code> (or <code class="inline">{:ok, notifications}</code>)<br/>To send notifications later, use <code class="inline">Ash.Notifier.notify(notifications)</code>. It sends any notifications
that can be sent, and returns the rest. The default value is <code class="inline">false</code>.</p></li><li><p><code class="inline">:rollback_on_error?</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">boolean/0</code></a>) - Whether or not to rollback the transaction on error, if the resource is in a transaction.<br/>If the action has <code class="inline">transaction? false</code> this option has no effect. If an error is returned from the
data layer and the resource is in a transaction, the transaction is always rolled back, regardless. The default value is <code class="inline">true</code>.</p></li><li><p><code class="inline">:notification_metadata</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - Metadata to be merged into the metadata field for all notifications sent from this operation. The default value is <code class="inline">%{}</code>.</p></li><li><p><code class="inline">:skip_unknown_inputs</code> - A list of inputs that, if provided, will be ignored if they are not recognized by the action. Use <code class="inline">:*</code> to indicate all unknown keys.</p></li><li><p><code class="inline">:load</code> (<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types"><code class="inline">term/0</code></a>) - A load statement to add onto the changeset</p></li></ul>
  </section>
</section>
<section class="detail" id="update!/3">

    <span id="update!/1"></span>

    <span id="update!/2"></span>

  <div class="detail-header">
    <a href="#update!/3" class="detail-link" data-no-tooltip title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update!(changeset_or_record, params_or_opts \\ %{}, opts \\ [])</h1>

      <a href="https://github.com/ash-project/ash/blob/v3.4.8/lib/ash.ex#L2582" class="icon-action" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">@spec</span> update!(
  changeset_or_record :: <a href="Ash.Changeset.html#t:t/0">Ash.Changeset.t</a>() | <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(),
  params_or_opts :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>() | <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>(),
  opts :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()
) ::
  <a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>()
  | {<a href="Ash.Resource.html#t:record/0">Ash.Resource.record</a>(), [<a href="Ash.Notifier.Notification.html#t:t/0">Ash.Notifier.Notification.t</a>()]}
  | <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">no_return</a>()</pre>

      </div>

<p>Update a record. See <a href="#update/2"><code class="inline">update/2</code></a> for more information.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ash/3.4.8" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ash/3.4.8">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ash.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
