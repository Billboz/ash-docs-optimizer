<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="ash_state_machine v0.2.6">


    <title>What is AshStateMachine? — ash_state_machine v0.2.6</title>
    <link rel="stylesheet" href="dist/html-elixir-P45HOAC7.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-F3630C7D.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-K6B4O7EW.js"></script>
<script>
  if (location.hostname === "hexdocs.pm") {
    var script = document.createElement("script");
    script.src = "https://plausible.io/js/script.js";
    script.setAttribute("defer", "defer")
    script.setAttribute("data-domain", "ashhexdocs")
    document.head.appendChild(script);
  }
</script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://github.com/ash-project/ash_state_machine" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ash_state_machine" />
        </a>

      <div>
        <a href="https://github.com/ash-project/ash_state_machine" class="sidebar-projectName" translate="no">
ash_state_machine
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.2.6
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
GUIDES
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ash_state_machine</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/ash-project/ash_state_machine/blob/v0.2.6/documentation/topics/what-is-ash-state-machine.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>What is AshStateMachine?</span>
  </h1>

<h2 id="what-is-a-state-machine" class="section-heading">
  <a href="#what-is-a-state-machine" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">What is a State Machine?</span>
</h2>
<p>A state machine is a program who's purpose is to manage an internal &quot;state&quot;. The simplest example of a state machine could be a program representing a light switch. A light switch might have two states, &quot;on&quot; and &quot;off&quot;. You can transition from &quot;on&quot; to &quot;off&quot;, and back.</p><pre><code class="mermaid">classDiagram

class Switch {
  state on | off
  turnOn() off -&gt; on
  turnOff() on -&gt; off
}</code></pre><p>To build state machines with <a href="https://hexdocs.pm/ash/3.4.1/Ash.Resource.html"><code class="inline">Ash.Resource</code></a>, we use <a href="https://hexdocs.pm/ash_state_machine"><code class="inline">AshStateMachine</code></a>.</p><p>When we refer to &quot;state machines&quot; in AshStateMachine, we're referring to a specific type of state machine known as a &quot;Finite State Machine&quot;.
It is &quot;finite&quot;, because there are a statically known list of states that the machine may be in at any time, just like the <code class="inline">Switch</code> example above.</p><h3 id="why-should-we-use-state-machines" class="section-heading">
  <a href="#why-should-we-use-state-machines" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Why should we use state machines?</span>
</h3>
<h4>Flexible</h4><p>State machines are a <em>simple</em> and <em>powerful</em> way to represent complex workflows. They are flexible to modifications over time by adding new states, or new transitions between states.</p><h4>Migrateable</h4><p>State machines typically contain additional data about the state that they are in, or past states that they have been in, and this state must be migrated over time. When representing data as state machines, it becomes simple to do things like &quot;update all <code class="inline">package</code> records that are in the <code class="inline">pending_shipment</code> state&quot;.</p><h4>Easy to reason about for humans</h4><p>State machines, when compared to things like workflows, are easy for people to reason about. We have an intuition for things like &quot;the package is currently <code class="inline">on_its_way</code>, with a <code class="inline">current_location</code> of New York, New York&quot;, or &quot;your package is now <code class="inline">out_for_delivery</code> with an ETA of 6PM&quot;.</p><h4>Compatible with any storage mechanism</h4><p>Since state machines are backed by simple state, you can often avoid any fancy workflow runners or complex storage mechanisms. You can store them in a database table, a json blob, a CSV file, at the end of the day its just a <code class="inline">:state</code> field and accompanying additional fields.</p><h2 id="what-does-ashstatemachine-do-differently-than-other-implementations" class="section-heading">
  <a href="#what-does-ashstatemachine-do-differently-than-other-implementations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">What does AshStateMachine do differently than other implementations?</span>
</h2>
<p>AshStateMachine is an <a href="https://hexdocs.pm/ash/Ash.Resource.html"><code class="inline">Ash.Resource</code></a> extension, meaning it <em>enhances a resource</em> with state machine capabilities. In <a href="https://hexdocs.pm/ash/3.4.1/Ash.html"><code class="inline">Ash</code></a>, all modifications go through <a href="actions.html"><em>actions</em></a>. In accordance with this, <a href="AshStateMachine.html"><code class="inline">AshStateMachine</code></a> offers a DSL for declaring <em>valid states and transitions</em>, but does not, itself, <em>perform</em> those transitions. You will use a change called <code class="inline">transition_state/1</code> in an action to move from one state to the other. For more, check out the <a href="https://hexdocs.pm/ash/readme.html#cookbook">CookBook</a></p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="getting-started-with-ash-state-machine.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Getting Started with State Machines
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="charts.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Charts
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ash_state_machine/0.2.6" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ash_state_machine/0.2.6">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/ash_state_machine/0.2.6/show/documentation/topics/what-is-ash-state-machine.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ash_state_machine.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad: true})</script>

  </body>
</html>
