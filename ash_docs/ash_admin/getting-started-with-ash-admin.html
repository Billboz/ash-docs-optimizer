<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="ash_admin v0.11.5">


    <title>Getting Started with AshAdmin — ash_admin v0.11.5</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-58676A5C.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://github.com/ash-project/ash_admin" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ash_admin" />
        </a>

      <div>
        <a href="https://github.com/ash-project/ash_admin" class="sidebar-projectName" translate="no">
ash_admin
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.11.5
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ash_admin</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/ash-project/ash_admin/blob/v0.11.5/documentation/tutorials/getting-started-with-ash-admin.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Getting Started with AshAdmin</span>
  </h1>

<h2 id="demo" class="section-heading">
  <a href="#demo" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Demo</span>
</h2>
<p><a href="https://www.youtube.com/watch?v=aFMLz3cpQ8c">https://www.youtube.com/watch?v=aFMLz3cpQ8c</a></p><h2 id="installation" class="section-heading">
  <a href="#installation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Installation</span>
</h2>
<p>Add the <code class="inline">ash_admin</code> dependency to your <code class="inline">mix.exs</code> file:</p><pre><code class="makeup elixir" translate="no"><span class="p" data-group-id="3350238556-1">{</span><span class="ss">:ash_admin</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.11.4&quot;</span><span class="p" data-group-id="3350238556-1">}</span></code></pre><h2 id="setup" class="section-heading">
  <a href="#setup" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Setup</span>
</h2>
<p>Ensure your domains are configured in <code class="inline">config.exs</code>:</p><pre><code class="makeup elixir" translate="no"><span class="n">config</span><span class="w"> </span><span class="ss">:my_app</span><span class="p">,</span><span class="w"> </span><span class="ss">ash_domains</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8243503475-1">[</span><span class="nc">MyApp.Foo</span><span class="p">,</span><span class="w"> </span><span class="nc">MyApp.Bar</span><span class="p" data-group-id="8243503475-1">]</span></code></pre><p>Add the <a href="AshAdmin.Domain.html"><code class="inline">AshAdmin.Domain</code></a> extension to each domain you want to show in the AshAdmin dashboard, and configure it to show. See <a href="dsl-ashadmin-domain.html">DSL: AshAdmin.Domain</a> for more configuration options.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># In your Domain(s)</span><span class="w">
</span><span class="kn">use</span><span class="w"> </span><span class="nc">Ash.Domain</span><span class="p">,</span><span class="w">
  </span><span class="ss">extensions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="5205844111-1">[</span><span class="nc">AshAdmin.Domain</span><span class="p" data-group-id="5205844111-1">]</span><span class="w">

</span><span class="n">admin</span><span class="w"> </span><span class="k" data-group-id="5205844111-2">do</span><span class="w">
  </span><span class="n">show?</span><span class="w"> </span><span class="no">true</span><span class="w">
</span><span class="k" data-group-id="5205844111-2">end</span></code></pre><p>All resources in each Domain will automatically be included in AshAdmin. To configure a resource, use the <a href="AshAdmin.Resource.html"><code class="inline">AshAdmin.Resource</code></a> extension, and then use the <a href="dsl-ashadmin-resource.html">DSL: AshAdmin.Resource</a> configuration options. Specifically, if your app has an actor you will want to configure that.</p><pre><code class="makeup elixir" translate="no"><span class="c1"># In your resource that acts as an actor (e.g. User)</span><span class="w">
</span><span class="kn">use</span><span class="w"> </span><span class="nc">Ash.Resource</span><span class="p">,</span><span class="w">
  </span><span class="ss">domain</span><span class="p">:</span><span class="w"> </span><span class="nc">YourDomain</span><span class="p">,</span><span class="w">
  </span><span class="ss">extensions</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1949860555-1">[</span><span class="nc">AshAdmin.Resource</span><span class="p" data-group-id="1949860555-1">]</span><span class="w">

</span><span class="n">admin</span><span class="w"> </span><span class="k" data-group-id="1949860555-2">do</span><span class="w">
  </span><span class="n">actor?</span><span class="w"> </span><span class="no">true</span><span class="w">
</span><span class="k" data-group-id="1949860555-2">end</span></code></pre><p>Modify your router to add AshAdmin at whatever path you'd like to serve it at.</p><pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">MyAppWeb.Router</span><span class="w"> </span><span class="k" data-group-id="1177444575-1">do</span><span class="w">
  </span><span class="kn">use</span><span class="w"> </span><span class="nc">Phoenix.Router</span><span class="w">

  </span><span class="kn">import</span><span class="w"> </span><span class="nc">AshAdmin.Router</span><span class="w">

  </span><span class="c1"># AshAdmin requires a Phoenix LiveView `:browser` pipeline</span><span class="w">
  </span><span class="c1"># If you DO NOT have a `:browser` pipeline already, then AshAdmin has a `:browser` pipeline</span><span class="w">
  </span><span class="c1"># Most applications will not need this:</span><span class="w">
  </span><span class="n">admin_browser_pipeline</span><span class="w"> </span><span class="ss">:browser</span><span class="w">

  </span><span class="n">scope</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="k" data-group-id="1177444575-2">do</span><span class="w">
    </span><span class="c1"># Pipe it through your browser pipeline</span><span class="w">
    </span><span class="n">pipe_through</span><span class="w"> </span><span class="p" data-group-id="1177444575-3">[</span><span class="ss">:browser</span><span class="p" data-group-id="1177444575-3">]</span><span class="w">

    </span><span class="n">ash_admin</span><span class="w"> </span><span class="s">&quot;/admin&quot;</span><span class="w">
  </span><span class="k" data-group-id="1177444575-2">end</span><span class="w">
</span><span class="k" data-group-id="1177444575-1">end</span></code></pre><blockquote><h4 class="warning">Warning</h4><p>There is no builtin security for your AshAdmin (except your app's normal policies). In most cases you will want to secure your AshAdmin routes in some way to prevent them from being publicly accessible.</p></blockquote><p>Start your project (usually by running <a href="https://hexdocs.pm/phoenix/1.7.14/Mix.Tasks.Phx.Server.html"><code class="inline">mix phx.server</code></a> in a terminal) and visit <code class="inline">/admin</code> in your browser (or the path you configured <code class="inline">ash_admin</code> with in your router).</p><h3 id="content-security-policy" class="section-heading">
  <a href="#content-security-policy" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Content Security Policy</span>
</h3>
<p>If your app specifies a content security policy header, eg. via</p><pre><code class="makeup elixir" translate="no"><span class="n">plug</span><span class="w"> </span><span class="ss">:put_secure_browser_headers</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2358935528-1">%{</span><span class="s">&quot;content-security-policy&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;default-src &#39;self&#39;&quot;</span><span class="p" data-group-id="2358935528-1">}</span></code></pre><p>in your router, then the stylesheets and JavaScript used to power AshAdmin will be blocked by your browser.</p><p>To avoid this, you can add the default AshAdmin nonces to the <code class="inline">default-src</code> allowlist, ie.</p><pre><code class="makeup elixir" translate="no"><span class="n">plug</span><span class="w"> </span><span class="ss">:put_secure_browser_headers</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5420886896-1">%{</span><span class="s">&quot;content-security-policy&quot;</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;default-src &#39;nonce-ash_admin-Ed55GFnX&#39; &#39;self&#39;&quot;</span><span class="p" data-group-id="5420886896-1">}</span></code></pre><p>Alternatively you can supply your own nonces to the <code class="inline">ash_admin</code> route, by setting a <code class="inline">:csp_nonce_assign_key</code> in the options list, ie.</p><pre><code class="makeup elixir" translate="no"><span class="n">ash_admin</span><span class="w"> </span><span class="s">&quot;/admin&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">csp_nonce_assign_key</span><span class="p">:</span><span class="w"> </span><span class="ss">:csp_nonce_value</span></code></pre><p>This will allow AshAdmin-generated inline CSS and JS blocks to execute normally.</p><h2 id="troubleshooting" class="section-heading">
  <a href="#troubleshooting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Troubleshooting</span>
</h2>
<h4>UI issues</h4><p>If your admin UI is not responding as expected, check your browser's developer console for content-security-policy violations (see above).</p><h4>Router issues</h4><p>If you are seeing the following error <code class="inline">(UndefinedFunctionError) function YourAppWeb.AshAdmin.PageLive.__live__/0 is undefined (module YourAppWeb.AshAdmin.PageLive is not available)</code> it likely means that you added the ash admin route macro under a scope with a prefix. Make sure that you add it under a scope without any prefixes.</p><pre><code class="makeup elixir" translate="no"><span class="w">  </span><span class="c1"># Incorrect (with YourAppWeb prefix)</span><span class="w">
  </span><span class="n">scope</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">YourAppWeb</span><span class="w"> </span><span class="k" data-group-id="5497750196-1">do</span><span class="w">
    </span><span class="n">pipe_through</span><span class="w"> </span><span class="p" data-group-id="5497750196-2">[</span><span class="ss">:browser</span><span class="p" data-group-id="5497750196-2">]</span><span class="w">

    </span><span class="n">ash_admin</span><span class="w"> </span><span class="s">&quot;/admin&quot;</span><span class="w">
  </span><span class="k" data-group-id="5497750196-1">end</span><span class="w">

  </span><span class="c1"># Correct (without prefix)</span><span class="w">
  </span><span class="n">scope</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="k" data-group-id="5497750196-3">do</span><span class="w">
    </span><span class="n">pipe_through</span><span class="w"> </span><span class="p" data-group-id="5497750196-4">[</span><span class="ss">:browser</span><span class="p" data-group-id="5497750196-4">]</span><span class="w">

    </span><span class="n">ash_admin</span><span class="w"> </span><span class="s">&quot;/admin&quot;</span><span class="w">
  </span><span class="k" data-group-id="5497750196-3">end</span></code></pre>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="readme.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
README
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="contributing-to-ash-admin.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Contributing to AshAdmin
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/ash_admin/0.11.5" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/ash_admin/0.11.5">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/ash_admin/0.11.5/show/documentation/tutorials/getting-started-with-ash-admin.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ash_admin.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
